!function(e){function t(t){for(var r,s,l=t[0],i=t[1],o=t[2],m=0,d=[];m<l.length;m++)s=l[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);d.length;)d.shift()();return c.push.apply(c,o||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],r=!0,l=1;l<a.length;l++){var i=a[l];0!==n[i]&&(r=!1)}r&&(c.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={0:0},c=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var u=i;c.push([0,1]),a()}({"./.linaria-cache/src/components/contribute/Contribute.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/SearchInput.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/SearchResults.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/layout/FlexSpacer.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/layout/Footer.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/layout/Navbar.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/pack/Sticker.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/pack/StickerPackDetail.linaria.css":function(e,t,a){},"./src/index.css":function(e,t,a){},"./src/index.tsx":function(e,t,a){"use strict";a.r(t);var r=a("./node_modules/react/index.js"),n=a.n(r),c=a("./node_modules/react-dom/index.js"),s=a.n(c),l=a("./node_modules/react-router-dom/esm/react-router-dom.js"),i=a("./node_modules/react-router/esm/react-router.js"),o=a("./node_modules/linaria/react.js"),u=a("./node_modules/react-octicon/lib/index.js"),m=a.n(u),d=Object(o.styled)("nav")({name:"StyledNavBar",class:"s1l3u8z6"}),p=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(d,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6 text-center text-md-left mb-2 mb-sm-1"},n.a.createElement(l.b,{className:"brand",to:"/"},n.a.createElement("img",{src:"data:image/png;base64,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",alt:"Signal Logo"})," Signal Stickers")),n.a.createElement("div",{className:"col-12 col-md-6 text-center text-md-right mt-2 mb-2 mb-md-0"},n.a.createElement(l.b,{to:"/contribute",title:"Contribute"},n.a.createElement("button",{className:"btn btn-light btn-sm mr-3"},n.a.createElement(m.a,{name:"plus"}),"Â Contribute")),n.a.createElement("a",{href:"https://signal.org",title:"Get Signal"},n.a.createElement("button",{className:"btn btn-primary btn-sm"},"Get Signal")))))))};a("./.linaria-cache/src/components/layout/Navbar.linaria.css");var f=a("./node_modules/@babel/runtime/helpers/slicedToArray.js"),b=a.n(f),h=a("./node_modules/debounce-fn/index.js"),v=a.n(h),k=a("./node_modules/linaria/lib/index.js"),E=a("./node_modules/use-breakpoint/index.umd.js"),g=a.n(E),y={xs:0,sm:576,md:768,lg:992,xl:1200},w=a("./node_modules/@babel/runtime/regenerator/index.js"),x=a.n(w),N=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),A=a.n(N),j=a("./node_modules/ramda/es/equals.js"),S=a("./node_modules/use-async-effect/index.js"),O=a.n(S),I=a("./node_modules/axios/index.js"),P=a.n(I),F=a("./node_modules/fuzzy-search/dist/FuzzySearch.js"),C=a.n(F),T=a("./node_modules/localforage/dist/localforage.js"),M=a.n(T),R=a("./node_modules/ramda/es/find.js"),U=a("./node_modules/ramda/es/pathEq.js"),_=a("./node_modules/ramda/es/test.js"),D=a("./node_modules/p-queue/dist/index.js"),q=a.n(D),K=a("./node_modules/p-wait-for/index.js"),Y=a.n(K),L=a("./node_modules/webp-hero/dist/index.js"),B=new(a("./node_modules/webp-hero/libwebp/dist/webp.js").a);B.Module.doNotCaptureKeyboard=!0;var H=new L.a({webp:B,webpSupport:Object(L.c)(),detectWebpImage:L.b}),X=Object(L.c)(),G=new q.a({concurrency:1});function W(e){return Q.apply(this,arguments)}function Q(){return(Q=A()(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X;case 2:if(!e.sent){e.next=5;break}return a=btoa(String.fromCharCode.apply(void 0,t)),e.abrupt("return","data:image/webp;base64,".concat(a));case 5:return e.abrupt("return",G.add(A()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y()((function(){return!1===H.busy}));case 3:return e.next=5,H.decode(t);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("[convertImage] Image conversion failed: ".concat(e.t0.message)),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z,J=a("./src/lib/error.ts"),V=a("./node_modules/protobufjs/index.js"),Z=a.n(V),$=a("./src/lib/crypto.ts"),ee=Z.a.Root.fromJSON({nested:{Pack:{fields:{title:{type:"string",id:1},author:{type:"string",id:2},cover:{type:"Sticker",id:3},stickers:{rule:"repeated",type:"Sticker",id:4,options:{}}},nested:{Sticker:{fields:{id:{type:"uint32",id:1},emoji:{type:"string",id:2}}}}}}}).root.lookupType("Pack"),te=new Map,ae=new Map;function re(e,t){return ne.apply(this,arguments)}function ne(){return(ne=A()(x.a.mark((function e(t,a){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object($.a)(t,a);case 3:return r=e.sent,n=new Uint8Array(r,0,r.byteLength),e.abrupt("return",ee.decode(n));case 8:throw e.prev=8,e.t0=e.catch(0),new J.a(e.t0.code||"MANIFEST_PARSE","[parseManifest] ".concat(e.t0.stack));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ce(e,t){return se.apply(this,arguments)}function se(){return(se=A()(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te.has(t)||te.set(t,new Promise(function(){var e=A()(x.a.mark((function e(r,n){var c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P()({method:"GET",responseType:"arraybuffer",url:"https://cdn-ca.signal.org/stickers/".concat(t,"/manifest.proto")});case 3:return c=e.sent,e.next=6,re(a,c.data);case 6:s=e.sent,r(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())),e.abrupt("return",te.get(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t,a){return ie.apply(this,arguments)}function ie(){return(ie=A()(x.a.mark((function e(t,a,r){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"-").concat(r),ae.has(n)||ae.set(n,new Promise(function(){var e=A()(x.a.mark((function e(n,c){var s,l,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P()({method:"GET",responseType:"arraybuffer",url:"https://cdn-ca.signal.org/stickers/".concat(t,"/full/").concat(r)});case 3:return s=e.sent,e.next=6,Object($.a)(a,s.data);case 6:l=e.sent,i=new Uint8Array(l,0,l.byteLength),n(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())),e.abrupt("return",ae.get(n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,a){return ue.apply(this,arguments)}function ue(){return(ue=A()(x.a.mark((function e(t,a,r){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,a);case 2:if(n=e.sent,c=n.stickers.find((function(e){return e.id===r}))){e.next=6;break}throw new Error("Sticker pack ".concat(t," has no sticker with ID ").concat(r,"."));case 6:return e.abrupt("return",c.emoji);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=new Map,de=M.a.createInstance({name:"Signal Stickers",storeName:"Image Cache"});function pe(){return fe.apply(this,arguments)}function fe(){return(fe=A()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z||(z=new Promise(function(){var e=A()(x.a.mark((function e(t,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.request({method:"GET",url:"stickerData.json"});case 2:r=e.sent,t(r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),e.abrupt("return",z);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return he.apply(this,arguments)}function he(){return(he=A()(x.a.mark((function e(t,a){var r,n,c,s,l,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,me.has(t)){e.next=15;break}return e.next=4,pe();case 4:if(r=e.sent,n=R.a(U.a(["meta","id"],t),r),c=n?n.meta:{id:t,key:a},s=null!=a?a:c.key){e.next=10;break}throw new J.a("NO_KEY_PROVIDED","No key provided for unlisted pack: ".concat(t,"."));case 10:return e.next=12,ce(t,s);case 12:l=e.sent,i={meta:c,manifest:l},me.set(t,i);case 15:return e.abrupt("return",me.get(t));case 18:if(e.prev=18,e.t0=e.catch(0),!e.t0.isAxiosError||403!==e.t0.response.status){e.next=22;break}throw new J.a("MANIFEST_DECRYPT","[getStickerPack] ".concat(e.t0.stack));case 22:throw new J.a(e.t0.code,"[getStickerPack] ".concat(e.t0.stack));case 23:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ve(e){return!(!e||!e.message)&&Boolean(R.a((function(t){return _.a(t,e.message)}),[/the quota has been exceeded/gi]))}function ke(e,t,a){return Ee.apply(this,arguments)}function Ee(){return(Ee=A()(x.a.mark((function e(t,a,r){var n,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,c="".concat(t,"-").concat(r),e.next=5,de.getItem(c);case 5:if(e.sent){e.next=16;break}return e.next=9,le(t,a,r);case 9:return s=e.sent,e.next=12,W(s);case 12:return n=e.sent,e.next=15,de.setItem(c,n);case 15:return e.abrupt("return",n);case 16:return e.next=18,de.getItem(c);case 18:return e.abrupt("return",e.sent);case 21:if(e.prev=21,e.t0=e.catch(1),ve(e.t0)){e.next=25;break}throw new Error("[getConvertedStickerInPack] Error getting sticker: ".concat(e.t0.message));case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}var ge=Object(r.createContext)({}),ye=function(e){var t=Object(r.useState)(""),a=b()(t,2),c=a[0],s=a[1],l=Object(r.useState)([]),i=b()(l,2),o=i[0],u=i[1],m=Object(r.useState)(),d=b()(m,2),p=d[0],f=d[1];return O()(A()(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:t=e.sent,f(t),u(t);case 5:case"end":return e.stop()}}),e)}))),[]),Object(r.useEffect)((function(){if(p){var e,t,a=(e=c,t=p,new C.a(t,["manifest.title","manifest.author","meta.tags"],{caseSensitive:!1,sort:!0}).search(e));j.a(a,o)||u(a)}}),[c]),n.a.createElement(ge.Provider,{value:{allStickerPacks:p,searchQuery:c,setSearchQuery:s,searchResults:o}},e.children)},we=ge,xe=Object(o.styled)("div")({name:"SearchInput",class:"sooxe2f"}),Ne=function(){var e=Object(r.useContext)(we),t=e.allStickerPacks,a=e.searchQuery,c=e.setSearchQuery,s=Object(r.useState)(""),l=b()(s,2),i=l[0],o=l[1],u=g()(y,"xl").breakpoint,d=v()((function(e){c(e)}),{wait:250});function p(e){o(e.currentTarget.textContent)}var f=["cute","privacy","meme","for children"].map((function(e){return n.a.createElement("a",{href:"#",className:"badge badge-signal",onClick:p},e)}));Object(r.useEffect)((function(){a&&o(a)}),[]),Object(r.useEffect)((function(){return d.cancel(),d(i),function(){d.cancel()}}),[i]);var h=t?"Search ".concat(t.length," sticker packs..."):"";return n.a.createElement(xe,{className:"row mb-4 mb-md-5"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"form-group m-0"},n.a.createElement("div",{className:Object(k.cx)("input-group",["md","lg","xl"].includes(u)&&"input-group-lg")},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},n.a.createElement(m.a,{name:"search"}))),n.a.createElement("input",{type:"text",key:"search",className:"form-control",onChange:function(e){var t=e.target.value;o(t)},value:i,placeholder:h,title:"Search","aria-label":"search",autoComplete:"false",spellCheck:"false"}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"input-group-text btn btn-light btn-sm",onClick:function(e){e.preventDefault(),o(""),c("")},title:"Clear Search Results"},"Â ",n.a.createElement(m.a,{name:"x",className:"text-danger"}))))),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement("small",null,"Lost? Why not start with these tags?")," ",f)))};a("./.linaria-cache/src/components/home/SearchInput.linaria.css");var Ae=a("./node_modules/react-waypoint/es/index.js"),je=a("./node_modules/ramda/es/take.js"),Se=Object(o.styled)("div")({name:"StickerPackPreviewCard",class:"s6bnemm",vars:{"s6bnemm-0":[function(e){return e.nsfw?"blur(4px)":"none"}]}}),Oe=function(e){var t=Object(r.useState)(),a=b()(t,2),c=a[0],s=a[1],l=e.stickerPack,i=l.meta,o=l.manifest;O()(A()(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===i.id){e.next=6;break}return e.next=4,ke(i.id,i.key,o.cover.id);case 4:t=e.sent,s(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("[StickerPackPreviewCard::Effect::GetCover] ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);var u=[o.title,i.nsfw&&" (NSFW)"].filter(Boolean).join("");return n.a.createElement(Se,{className:"card",nsfw:i.nsfw,"aria-label":u},c?n.a.createElement("img",{className:"card-img-top",src:c}):n.a.createElement("div",{className:"card-img-top"}),n.a.createElement("div",{className:"card-header"},u))};a("./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css");var Ie=Object(o.styled)("div")({name:"StickerPackList",class:"soapbay"}),Pe=function(){var e=Object(r.useContext)(we).searchResults,t=Object(r.useState)(0),a=b()(t,2),c=a[0],s=a[1],i=Object(r.useState)([]),o=b()(i,2),u=o[0],m=o[1];function d(){return p.apply(this,arguments)}function p(){return(p=A()(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u.length>=e.length)){t.next=2;break}return t.abrupt("return");case 2:s(a=c+64),m(je.a(a,e));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return O()(A()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(0),m([]),e.next=4,d();case 4:case"end":return e.stop()}}),e)}))),[e]),n.a.createElement(Ie,{className:"row"},u.map((function(e){var t=e.meta,a=e.manifest;return n.a.createElement(l.b,{className:"col-6 col-md-4 col-lg-3 mb-4",key:t.id,to:"/pack/".concat(t.id)},n.a.createElement(Oe,{stickerPack:{meta:t,manifest:a}}))})),n.a.createElement(Ae.a,{key:c,onEnter:d,bottomOffset:"-500px"}))};a("./.linaria-cache/src/components/home/SearchResults.linaria.css");var Fe=function(){return n.a.createElement("div",{className:"mt-4 mt-md-5 mb-5"},n.a.createElement("p",{className:"pb-2 pb-md-4"},"Welcome to Signal Stickers, the unofficial directory for Signal sticker packs. You can filter packs by title, author, or tags."),n.a.createElement(Ne,null),n.a.createElement(Pe,null))},Ce=a("./node_modules/react-linkify/dist/index.js"),Te=a.n(Ce);var Me=Object(o.styled)("div")({name:"Sticker",class:"sahlm9h"}),Re=function(e){var t=e.packId,a=e.packKey,c=e.stickerId,s=Object(r.useState)(""),l=b()(s,2),i=l[0],o=l[1],u=Object(r.useState)(""),m=b()(u,2),d=m[0],p=m[1];return O()(A()(x.a.mark((function e(){var r,n,s,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([oe(t,a,c),ke(t,a,c)]);case 2:r=e.sent,n=b()(r,2),s=n[0],l=n[1],o(s),p(l);case 8:case"end":return e.stop()}}),e)}))),[]),i&&d?n.a.createElement(Me,{className:"shadow-sm m-3 p-4"},n.a.createElement("div",{className:"emoji"},i),n.a.createElement("img",{src:d,alt:"Sticker"})):null};a("./.linaria-cache/src/components/pack/Sticker.linaria.css");var Ue=function(e){return n.a.createElement("div",{className:"p-4 my-4"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-10 offset-1 alert alert-danger"},n.a.createElement("h3",{className:"alert-heading mt-1 mb-3"},"Error"),e.children)))},_e=function(e){return n.a.createElement("div",{className:"badge badge-primary mr-1"},e.children)},De=Object(o.styled)("div")({name:"StickerPackDetail",class:"s11r72gg"});function qe(e,t,a){return n.a.createElement("a",{href:e,key:a,target:"_blank",rel:"noreferrer"},t)}var Ke=function(){var e=Object(i.g)().packId,t=new URLSearchParams(Object(i.f)().search).get("key")||void 0,a=Object(r.useState)(),c=b()(a,2),s=c[0],o=c[1],u=Object(r.useState)(""),d=b()(u,2),p=d[0],f=d[1];if(O()(A()(x.a.mark((function a(){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,e){a.next=3;break}return a.abrupt("return");case 3:return a.t0=o,a.next=6,be(e,t);case 6:a.t1=a.sent,(0,a.t0)(a.t1),a.next=13;break;case 10:a.prev=10,a.t2=a.catch(0),a.t2.code&&f(a.t2.code);case 13:case"end":return a.stop()}}),a,null,[[0,10]])}))),[]),!e||!s){if(p)switch(p){case"NO_KEY_PROVIDED":return n.a.createElement(Ue,null,n.a.createElement("p",null,"This sticker pack is not listed in the Signal Stickers directory. However, if you have the pack's ",n.a.createElement("strong",null,"key"),", you can still preview the sticker pack by supplying a ",n.a.createElement("code",null,"key")," parameter in the URL."),n.a.createElement("p",null,"For example: ",n.a.createElement("code",null,"/pack/".concat(e,"?key=sticker-pack-key"))));case"MANIFEST_DECRYPT":return n.a.createElement(Ue,null,n.a.createElement("p",null,"The provided key is invalid."));default:return n.a.createElement(Ue,null,n.a.createElement("p",null,"An unknown error occurred (",p,")."))}return null}var h=s.meta.source||"N/A",v=s.manifest.stickers.length,k=s.manifest.author.trim()?s.manifest.author:"Anonymous",E=s.meta.tags||[],g="https://signal.art/addstickers/#pack_id=".concat(e,"&pack_key=").concat(s.meta.key);return n.a.createElement(De,{className:"px-1 px-sm-4 py-4 mt-0 mt-sm-5 mb-5"},n.a.createElement("div",{className:"row mb-4 flex-column-reverse flex-lg-row"},n.a.createElement("div",{className:"col-12 col-lg-8 mt-4 mt-lg-0"},n.a.createElement("div",{className:"title"},s.manifest.title),n.a.createElement("div",{className:"author"},k)),n.a.createElement("div",{className:"col-12 col-lg-4 d-flex d-lg-block justify-content-between text-md-right"},s.meta?n.a.createElement(l.b,{to:"/"},n.a.createElement("button",{type:"button",className:"btn btn-link mr-2"},"Home")):null,n.a.createElement("a",{href:g,target:"_blank",rel:"noreferrer",title:"Add to Signal"},n.a.createElement("button",{className:"btn btn-primary"},n.a.createElement(m.a,{name:"plus"}),"Â Add to Signal")))),s.meta?n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-12 col-lg-6"},n.a.createElement("ul",{className:"list-group"},n.a.createElement("li",{className:"list-group-item text-wrap text-break"},n.a.createElement(m.a,{name:"globe",title:"Source"}),n.a.createElement("div",null,n.a.createElement(Te.a,{componentDecorator:qe},h))),n.a.createElement("li",{className:"list-group-item text-wrap text-break"},n.a.createElement(m.a,{name:"file-directory",title:"Sticker Count"}),v),s.meta.nsfw?n.a.createElement("li",{className:"list-group-item text-wrap text-break"},n.a.createElement(m.a,{name:"alert",title:"NSFW"})," ",n.a.createElement("strong",null,"NSFW")):null,n.a.createElement("li",{className:"list-group-item"},n.a.createElement(m.a,{name:"tag",title:"Tags"}),n.a.createElement("div",{className:"text-wrap text-break"},0===E.length?"None":E.map((function(e){return n.a.createElement(_e,{key:e},e)}))))))):null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},s.manifest.stickers.map((function(t){return n.a.createElement(Re,{packId:e,packKey:s.meta.key,stickerId:t.id,key:t.id})}))))))};a("./.linaria-cache/src/components/pack/StickerPackDetail.linaria.css");var Ye=Object(o.styled)("div")({name:"FlexSpacer0",class:"flkxylh"});a("./.linaria-cache/src/components/layout/FlexSpacer.linaria.css");var Le=Object(o.styled)("footer")({name:"FooterWrapper",class:"fu9i7p8"}),Be=Object(o.styled)("div")({name:"Footer",class:"f4rr4yy"}),He=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ye,null),n.a.createElement(Le,null,n.a.createElement("div",{className:"container"},n.a.createElement(Be,{className:"row pt-5 pb-3"},n.a.createElement("div",{className:"col-12 col-md-6 about"},n.a.createElement("h1",{className:"mb-4"},"About"),n.a.createElement("p",null,"Browse and download more than 1000 sticker packs for Signal, the secure messenger. These stickers are created by the community; the maintainers of this website do not claim any rights. ",n.a.createElement("strong",null,"This site is not affiliated with Signal"),"."),n.a.createElement("p",null,n.a.createElement("a",{href:"https://twitter.com/search?q=%23makeprivacystick&src=typed_query",rel:"noreferrer",target:"_blank"},n.a.createElement("strong",null,"#makeprivacystick")))),n.a.createElement("div",{className:"col-12 col-md-6 links"},n.a.createElement("h1",{className:"mb-4"},"Links"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://signal.org",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," Learn More About Signal")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://github.com/romainricard/signalstickers",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," GitHub Repository")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://github.com/romainricard/signalstickers/issues/new",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," Report an Issue")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://support.signal.org/hc/en-us/articles/360031836512-Stickers#h_c2a0a45b-862f-4d12-9ab1-d9a6844062ca",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," Sticker Pack Creation Guide"))))))))};a("./.linaria-cache/src/components/layout/Footer.linaria.css");var Xe,Ge=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),We=a.n(Ge),Qe=a("./node_modules/formik/dist/formik.esm.js"),ze=a("./node_modules/ramda/es/index.js"),Je=a("./node_modules/ramda/es/uniq.js"),Ve=a("./node_modules/js-yaml/index.js"),Ze=a.n(Ve),$e=Object(o.styled)("div")({name:"Contribute",class:"c1b6b6t9"}),et=/^https:\/\/signal.art\/addstickers\/#pack_id=([A-Za-z0-9]+)&pack_key=([A-Za-z0-9]+)$/g,tt=/^(?:([\w\d-_ ]+))+(?:, ([\w\d-_ ]+))*$/g,at={signalArtUrl:"",source:"",tags:"",isNsfw:void 0},rt={signalArtUrl:(Xe=A()(x.a.mark((function e(t){var a,r,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","This field is required.");case 2:if(a=new RegExp(et).exec(t)){e.next=5;break}return e.abrupt("return","Invalid signal.art URL.");case 5:return r=b()(a,3),n=r[1],c=r[2],e.t0=ze,e.t1=U.a(["meta","id"],n),e.next=10,pe();case 10:if(e.t2=e.sent,!e.t0.find.call(e.t0,e.t1,e.t2)){e.next=13;break}return e.abrupt("return","A sticker pack with that ID already exists in the directory.");case 13:return e.prev=13,e.next=16,be(n,c);case 16:e.next=21;break;case 18:return e.prev=18,e.t3=e.catch(13),e.abrupt("return","Invalid sticker pack. Please check the pack ID and key.");case 21:case"end":return e.stop()}}),e,null,[[13,18]])}))),function(e){return Xe.apply(this,arguments)}),source:function(e){if(e&&e.length>320)return"This field must be no longer than 320 characters."},tags:function(e){if(""!==e&&!new RegExp(tt).test(e))return"Invalid value. Tags must be a list of comma-delimited strings."},isNsfw:function(e){if(void 0===e)return"This field is required."}},nt=function(){var e=Object(r.useState)(!1),t=b()(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),l=b()(s,2),i=l[0],o=l[1],u=Object(r.useState)(""),m=b()(u,2),d=m[0],p=m[1],f=function(){c(!0),o(""),p("")};return n.a.createElement($e,{className:"px-1 px-md-4 py-4 mt-0 mt-md-5 mb-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("p",null,"Getting your sticker pack listed in the Signal Stickers directory is easy! First, paste the ",n.a.createElement("code",null,"signal.art")," link for your sticker pack, including the ",n.a.createElement("code",null,"pack_id")," and ",n.a.createElement("code",null,"pack_key")," values, into the form below. Then, answer a few questions about your sticker pack and add optional metadata."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-8 offset-md-2 mt-4"},n.a.createElement(Qe.d,{initialValues:at,onSubmit:function(e){var t=new RegExp(et).exec(e.signalArtUrl);if(!t)throw new Error("Unable to extract pack ID and pack key from signal.art URL.");var a=b()(t,3),r=a[1],n=a[2],c=Je.a(e.tags.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length})));return o(Ze.a.safeDump(We()({},r,{key:n,source:e.source,tags:c,nsfw:"true"===e.isNsfw}),null,2).trim()),p("https://signalstickers.com/pack/".concat(r,"?key=").concat(n)),!0},validateOnChange:a,validateOnBlur:a},(function(e){var t=e.values,a=e.errors,r=e.isValidating,c=e.isSubmitting;return n.a.createElement(Qe.c,{noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12",a.signalArtUrl&&"text-danger"),htmlFor:"signal-art-url"},"Signal Art URL:",n.a.createElement(Qe.b,{type:"text",id:"signal-art-url",name:"signalArtUrl",validate:rt.signalArtUrl,className:Object(k.cx)("form-control",a.signalArtUrl&&"is-invalid"),placeholder:"https://signal.art/addstickers/#pack_id=<your pack id>&pack_key=<your pack key>"}),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(Qe.a,{name:"signalArtUrl"}),"Â ")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12",a.source&&"text-danger"),htmlFor:"source"},"(Optional) Source:",n.a.createElement(Qe.b,{type:"text",id:"source",name:"source",validate:rt.source,className:Object(k.cx)("form-control",a.source&&"is-invalid")}),n.a.createElement("small",{className:"form-text text-muted"},"Original author, website, company, etc."),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(Qe.a,{name:"source"}),"Â ")))),n.a.createElement("div",{className:"form-group mb-4"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12",a.tags&&"text-danger"),htmlFor:"tags"},"(Optional) Tags:",n.a.createElement(Qe.b,{type:"text",id:"tags",name:"tags",validate:rt.tags,className:Object(k.cx)("form-control",a.tags&&"is-invalid")}),n.a.createElement("small",{className:"form-text text-muted"},"Comma-separated list of words."),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(Qe.a,{name:"tags"}),"Â ")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12","mb-2",a.isNsfw&&"text-danger")},"Is your sticker pack ",n.a.createElement("a",{href:"https://www.urbandictionary.com/define.php?term=NSFW",target:"_blank",rel:"noreferrer"},"NSFW"),"?")),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"col-12 mb-1"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement(Qe.b,{type:"radio",id:"is-nsfw-true",name:"isNsfw",validate:rt.isNsfw,className:Object(k.cx)("custom-control-input",a.isNsfw&&"is-invalid"),value:"true",checked:"true"===t.isNsfw}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"is-nsfw-true"},"Yes"))),n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement(Qe.b,{type:"radio",id:"is-nsfw-false",name:"isNsfw",validate:rt.isNsfw,className:Object(k.cx)("custom-control-input",a.isNsfw&&"is-invalid"),value:"false",checked:"false"===t.isNsfw}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"is-nsfw-false"},"No")),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(Qe.a,{name:"isNsfw"}),"Â ")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:c||r,onClick:f},"Generate YML")))))})))),i?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("hr",null),n.a.createElement("p",{className:"mt-4 mb-4"},"Great! Below is the YML blob you will need to add at the end of ",n.a.createElement("code",null,"stickers.yml")," in the ",n.a.createElement("a",{href:"https://github.com/romainricard/signalstickers/edit/master/stickers.yml",target:"_blank",rel:"noreferrer"},"Signal Stickers repository"),"."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-10 offset-md-1"},n.a.createElement("div",{className:"card"},n.a.createElement("pre",{className:"p-2 mb-0"},i)))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("p",{className:"mt-4 mb-4"},"Please also include this link in your Pull Request description, as it allows us to review your pack easily!"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-10 offset-md-1"},n.a.createElement("div",{className:"card"},n.a.createElement("pre",{className:"p-2 mb-0"},d))))):null)};a("./.linaria-cache/src/components/contribute/Contribute.linaria.css");var ct=function(){return n.a.createElement(l.a,{basename:"/signalstickers/"},n.a.createElement(ye,null,n.a.createElement(p,null),n.a.createElement("div",{className:"container"},n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/"},n.a.createElement(Fe,null)),n.a.createElement(i.a,{path:"/pack/:packId"},n.a.createElement(Ke,null)),n.a.createElement(i.a,{path:"/contribute"},n.a.createElement(nt,null)))),n.a.createElement(He,null)))},st=a("./node_modules/bytes/index.js"),lt=a.n(st);function it(){return(it=A()(x.a.mark((function e(){var t,a,r,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=12;break;case 5:e.t0=e.sent;case 6:if(a=e.t0){e.next=9;break}return e.abrupt("return");case 9:r=null==a?void 0:null===(t=a.usageDetails)||void 0===t?void 0:t.indexedDB,n=a.quota,r&&n&&(c=(r/n*100).toFixed(2),console.debug("IndexedDB is currently using ".concat(lt()(r)," of data, or ").concat(c,"% of the ").concat(lt()(n)," quota.")));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a("./src/index.css");!function(){it.apply(this,arguments)}(),s.a.render(n.a.createElement(ct,null),document.getElementById("root"))},"./src/lib/crypto.ts":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return k}));var r=a("./node_modules/@babel/runtime/helpers/slicedToArray.js"),n=a.n(r),c=a("./node_modules/@babel/runtime/regenerator/index.js"),s=a.n(c),l=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),i=a.n(l),o=a("./node_modules/crypto-browserify/index.js"),u=a.n(o),m=a("./node_modules/js-crypto-hkdf/dist/index.js"),d=a.n(m),p=a("./src/lib/error.ts"),f="undefined"!=typeof window;function b(e){for(var t=[],a=e;a.length>=2;)t.push(parseInt(a.substring(0,2),16)),a=a.substring(2,a.length);return new Uint8Array(t)}function h(e){return v.apply(this,arguments)}function v(){return(v=i()(s.a.mark((function t(a){var r,n,c,l,i,o,u,m,p,h,v;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="SHA-256",n=512,c=new ArrayBuffer(32),l="Sticker Pack",!f){t.next=19;break}return t.next=7,window.crypto.subtle.importKey("raw",b(a),"HKDF",!1,["deriveKey"]);case 7:return i=t.sent,o={name:"HKDF",hash:r,salt:c,info:(new TextEncoder).encode(l)},u={name:"HMAC",hash:r,length:n},t.next=12,window.crypto.subtle.deriveKey(o,i,u,!0,["verify"]);case 12:return m=t.sent,t.next=15,window.crypto.subtle.exportKey("raw",m);case 15:return p=t.sent,t.abrupt("return",[p.slice(0,32),p.slice(32,64)]);case 19:return h=e.from(a,"hex"),t.next=22,d.a.compute(h,r,n,l,c);case 22:return v=t.sent.key,t.abrupt("return",[v.slice(0,32),v.slice(32,64)]);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(e,t){return E.apply(this,arguments)}function E(){return(E=i()(s.a.mark((function t(a,r){var c,l,i,o,m,d,b,v,k,E,g,y,w,x,N,A,j,S;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f){t.next=24;break}return t.next=4,h(a);case 4:return c=t.sent,l=new Uint8Array(r),i=l.slice(0,16),o=l.slice(16,l.byteLength-32),m=l.slice(l.byteLength-32,l.byteLength),d=l.slice(0,l.byteLength-32),t.next=12,window.crypto.subtle.importKey("raw",c[1],{name:"HMAC",hash:{name:"SHA-256"}},!1,["verify","sign"]);case 12:return b=t.sent,t.next=15,window.crypto.subtle.verify("HMAC",b,m,d);case 15:if(t.sent){t.next=18;break}throw new Error("MAC verification failed.");case 18:return t.next=20,window.crypto.subtle.importKey("raw",c[0],"AES-CBC",!1,["decrypt"]);case 20:return v=t.sent,t.abrupt("return",window.crypto.subtle.decrypt({name:"AES-CBC",iv:i},v,o));case 24:return t.next=26,h(a);case 26:if(k=t.sent,E=n()(k,2),g=E[0],y=E[1],w=r.slice(0,16),x=r.slice(16,r.length-32),N=r.slice(r.byteLength-32,r.byteLength).toString("hex"),A=r.slice(0,r.byteLength-32),j=u.a.createHmac("sha256",y).update(A).digest("hex"),N===j){t.next=37;break}throw new Error("MAC verification failed.");case 37:return S=u.a.createDecipheriv("aes-256-cbc",g,w),t.abrupt("return",e.concat([S.update(x),S.final()]));case 39:t.next=44;break;case 41:throw t.prev=41,t.t0=t.catch(0),p.a.from("MANIFEST_DECRYPT",t.t0);case 44:case"end":return t.stop()}}),t,null,[[0,41]])})))).apply(this,arguments)}}).call(this,a("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./src/lib/error.ts":function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var r=a("./node_modules/@babel/runtime/helpers/classCallCheck.js"),n=a.n(r),c=a("./node_modules/@babel/runtime/helpers/createClass.js"),s=a.n(c),l=a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),i=a.n(l),o=a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=a.n(o),m=a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),d=a.n(m),p=a("./node_modules/@babel/runtime/helpers/inherits.js"),f=a.n(p),b=a("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),h=a.n(b),v=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),k=a.n(v),E=function(e){function t(e,a){var r;return n()(this,t),r=i()(this,u()(t).call(this,a)),k()(d()(r),"code",void 0),r.code=e||"UNKNOWN",r}return f()(t,e),s()(t,null,[{key:"from",value:function(e,a){var r=new t(e,a.message);return r.stack=a.stack,r}}]),t}(h()(Error))},0:function(e,t,a){a("./node_modules/@babel/polyfill/lib/index.js"),e.exports=a("./src/index.tsx")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){}});
//# sourceMappingURL=app-4c1c2a6d3b39b58b51e4.js.map