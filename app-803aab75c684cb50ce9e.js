!function(e){function t(t){for(var r,s,l=t[0],i=t[1],o=t[2],m=0,d=[];m<l.length;m++)s=l[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);d.length;)d.shift()();return c.push.apply(c,o||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],r=!0,l=1;l<a.length;l++){var i=a[l];0!==n[i]&&(r=!1)}r&&(c.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={0:0},c=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var u=i;c.push([0,1]),a()}({"./.linaria-cache/src/components/contribute/Contribute.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/SearchInput.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/SearchResults.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/layout/FlexSpacer.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/layout/Footer.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/layout/Navbar.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/pack/Sticker.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/pack/StickerPackDetail.linaria.css":function(e,t,a){},"./src/index.css":function(e,t,a){},"./src/index.tsx":function(e,t,a){"use strict";a.r(t);var r=a("./node_modules/react/index.js"),n=a.n(r),c=a("./node_modules/react-dom/index.js"),s=a.n(c),l=a("./node_modules/react-router-dom/esm/react-router-dom.js"),i=a("./node_modules/react-router/esm/react-router.js"),o=a("./node_modules/linaria/react.js"),u=a("./node_modules/react-octicon/lib/index.js"),m=a.n(u),d=Object(o.styled)("nav")({name:"StyledNavBar",class:"s1l3u8z6"}),p=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(d,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-6 text-center text-md-left mb-2 mb-sm-1"},n.a.createElement(l.b,{className:"brand",to:"/"},n.a.createElement("img",{src:"data:image/png;base64,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",alt:"Signal Logo"})," Signal Stickers")),n.a.createElement("div",{className:"col-12 col-md-6 text-center text-md-right mt-2 mb-2 mb-md-0"},n.a.createElement(l.b,{to:"/contribute",title:"Contribute"},n.a.createElement("button",{className:"btn btn-light btn-sm mr-3"},n.a.createElement(m.a,{name:"plus"}),"Â Contribute")),n.a.createElement("a",{href:"https://signal.org",title:"Get Signal"},n.a.createElement("button",{className:"btn btn-primary btn-sm"},"Get Signal")))))))};a("./.linaria-cache/src/components/layout/Navbar.linaria.css");var f=a("./node_modules/@babel/runtime/helpers/slicedToArray.js"),b=a.n(f),h=a("./node_modules/debounce-fn/index.js"),v=a.n(h),k=a("./node_modules/linaria/lib/index.js"),E=a("./node_modules/use-breakpoint/index.umd.js"),g=a.n(E),y="https://cdn.jsdelivr.net/gh/sticker201/signalstickers@gh-pages/stickerData.json",w={xs:0,sm:576,md:768,lg:992,xl:1200},x=a("./node_modules/@babel/runtime/regenerator/index.js"),N=a.n(x),A=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),j=a.n(A),S=a("./node_modules/ramda/es/sortBy.js"),O=a("./node_modules/ramda/es/path.js"),I=a("./node_modules/ramda/es/equals.js"),F=a("./node_modules/use-async-effect/index.js"),P=a.n(F),C=a("./node_modules/axios/index.js"),T=a.n(C),U=a("./node_modules/fuzzy-search/dist/FuzzySearch.js"),M=a.n(U),R=a("./node_modules/localforage/dist/localforage.js"),D=a.n(R),_=a("./node_modules/protobufjs/index.js"),q=a.n(_),K=a("./node_modules/ramda/es/reduce.js"),Y=a("./node_modules/ramda/es/find.js"),B=a("./node_modules/ramda/es/propEq.js"),L=a("./node_modules/p-queue/dist/index.js"),H=a.n(L),X=a("./node_modules/p-wait-for/index.js"),J=a.n(X),G=a("./node_modules/webp-hero/dist/index.js"),Q=new(a("./node_modules/webp-hero/libwebp/dist/webp.js").a);Q.Module.doNotCaptureKeyboard=!0;var W=new G.a({webp:Q,webpSupport:Object(G.c)(),detectWebpImage:G.b}),z=Object(G.c)(),V=new H.a({concurrency:1});function Z(e){return $.apply(this,arguments)}function $(){return($=j()(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z;case 2:if(!e.sent){e.next=5;break}return a=btoa(String.fromCharCode.apply(void 0,t)),e.abrupt("return","data:image/webp;base64,".concat(a));case 5:return e.abrupt("return",V.add(j()(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J()((function(){return!1===W.busy}));case 3:return e.next=5,W.decode(t);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("[convertImage] Image conversion failed: ".concat(e.t0.message)),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=a("./node_modules/@babel/runtime/helpers/classCallCheck.js"),te=a.n(ee),ae=a("./node_modules/@babel/runtime/helpers/createClass.js"),re=a.n(ae),ne=a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),ce=a.n(ne),se=a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),le=a.n(se),ie=a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),oe=a.n(ie),ue=a("./node_modules/@babel/runtime/helpers/inherits.js"),me=a.n(ue),de=a("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),pe=a.n(de),fe=a("./node_modules/@babel/runtime/helpers/defineProperty.js"),be=a.n(fe),he=function(e){function t(e,a){var r;return te()(this,t),r=ce()(this,le()(t).call(this,a)),be()(oe()(r),"code",void 0),r.code=e||"UNKNOWN",r}return me()(t,e),re()(t,null,[{key:"from",value:function(e,a){var r=new t(e,a.message);return r.stack=a.stack,r}}]),t}(pe()(Error));function ve(e){for(var t=[],a=e;a.length>=2;)t.push(parseInt(a.substring(0,2),16)),a=a.substring(2,a.length);return new Uint8Array(t)}function ke(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=j()(N.a.mark((function e(t){var a,r,n,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.importKey("raw",ve(t),"HKDF",!1,["deriveKey"]);case 2:return a=e.sent,r={name:"HKDF",hash:"SHA-256",salt:new ArrayBuffer(32),info:(new TextEncoder).encode("Sticker Pack")},n={name:"HMAC",hash:"SHA-256",length:512},e.next=7,window.crypto.subtle.deriveKey(r,a,n,!0,["verify"]);case 7:return c=e.sent,e.next=10,window.crypto.subtle.exportKey("raw",c);case 10:return s=e.sent,e.abrupt("return",[s.slice(0,32),s.slice(32,64)]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t){return ye.apply(this,arguments)}function ye(){return(ye=j()(N.a.mark((function e(t,a){var r,n,c,s,l,i,o,u;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke(t);case 3:return r=e.sent,n=new Uint8Array(a),c=n.slice(0,16),s=n.slice(16,n.byteLength-32),l=n.slice(n.byteLength-32,n.byteLength),i=n.slice(0,n.byteLength-32),e.next=11,window.crypto.subtle.importKey("raw",r[1],{name:"HMAC",hash:{name:"SHA-256"}},!1,["verify","sign"]);case 11:return o=e.sent,e.next=14,window.crypto.subtle.verify("HMAC",o,l,i);case 14:if(e.sent){e.next=17;break}throw new Error("MAC verification failed.");case 17:return e.next=19,window.crypto.subtle.importKey("raw",r[0],"AES-CBC",!1,["decrypt"]);case 19:return u=e.sent,e.abrupt("return",window.crypto.subtle.decrypt({name:"AES-CBC",iv:c},u,s));case 23:throw e.prev=23,e.t0=e.catch(0),he.from("MANIFEST_DECRYPT",e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}var we=q.a.parse("message Pack {\n  message Sticker {\n    optional uint32 id    = 1;\n    optional string emoji = 2;\n  }\n\n  optional string  title    = 1;\n  optional string  author   = 2;\n  optional Sticker cover    = 3;\n  repeated Sticker stickers = 4;\n}\n\n").root,xe=[],Ne=new Map,Ae=D.a.createInstance({name:"Signal Stickers",storeName:"Image Cache"});function je(){return Se.apply(this,arguments)}function Se(){return(Se=j()(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===xe.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,T()({method:"GET",url:y});case 4:t=e.sent,xe=t.data,Ne=K.a((function(e,t){return e.set(t.meta.id,t.manifest),e}),new Map,xe);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return Ie.apply(this,arguments)}function Ie(){return(Ie=j()(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return e.abrupt("return",xe);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=j()(N.a.mark((function e(t,a){var r,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge(t,a);case 3:return r=e.sent,n=we.lookupType("Pack"),c=new Uint8Array(r,0,r.byteLength),e.abrupt("return",n.decode(c));case 9:throw e.prev=9,e.t0=e.catch(0),new he(e.t0.code||"MANIFEST_PARSE","[parseManifest] ".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Ce(e,t,a){return Te.apply(this,arguments)}function Te(){return(Te=j()(N.a.mark((function e(t,a,r){var n,c,s,l,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je();case 3:if(n=t,c=Ne.has(n),s=c&&Ne.get(n).stickers,c&&(!r||s)){e.next=14;break}return e.next=9,T()({method:"GET",responseType:"arraybuffer",url:"https://cdn-ca.signal.org/stickers/".concat(t,"/manifest.proto")});case 9:return l=e.sent,e.next=12,Fe(a,l.data);case 12:i=e.sent,Ne.set(n,i);case 14:return e.abrupt("return",Ne.get(n));case 17:throw e.prev=17,e.t0=e.catch(0),new he(e.t0.code,"[getStickerPack] ".concat(e.t0.message));case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function Ue(e,t,a){return Me.apply(this,arguments)}function Me(){return(Me=j()(N.a.mark((function e(t,a,r){var n,c,s,l,i,o,u,m;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(t,"-").concat(r),e.next=4,Ae.getItem(n);case 4:if(c=e.sent){e.next=24;break}return e.next=8,Ce(t,a);case 8:if(s=e.sent){e.next=11;break}throw new Error("[getStickerInPack] Unable to get sticker ".concat(r," in pack ").concat(t,"."));case 11:return l="cover"===r?s.cover.id:r,e.next=14,T()({method:"GET",responseType:"arraybuffer",url:"https://cdn-ca.signal.org/stickers/".concat(t,"/full/").concat(l)});case 14:return i=e.sent,e.next=17,ge(a,i.data);case 17:return o=e.sent,u=new Uint8Array(o,0,o.byteLength),e.next=21,Z(u);case 21:return m=e.sent,e.next=24,Ae.setItem(n,m);case 24:if(e.t0=c,e.t0){e.next=29;break}return e.next=28,Ae.getItem(n);case 28:e.t0=e.sent;case 29:return e.abrupt("return",e.t0);case 32:throw e.prev=32,e.t1=e.catch(0),new Error("[getStickerInPack] Error getting sticker: ".concat(e.t1.message));case 35:case"end":return e.stop()}}),e,null,[[0,32]])})))).apply(this,arguments)}function Re(e,t,a){return De.apply(this,arguments)}function De(){return(De=j()(N.a.mark((function e(t,a,r){var n,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(t,a);case 3:if(n=e.sent,c="cover"===r?n.cover.id:r,s=Y.a(B.a("id",c),n.stickers)){e.next=8;break}throw new Error("Sticker pack ".concat(t," has no sticker with ID ").concat(r,"."));case 8:return e.abrupt("return",s.emoji);case 11:throw e.prev=11,e.t0=e.catch(0),new Error("[getEmojiForSticker] ".concat(e.t0.stack));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var _e=Object(r.createContext)({}),qe=function(e){var t=Object(r.useState)(""),a=b()(t,2),c=a[0],s=a[1],l=Object(r.useState)([]),i=b()(l,2),o=i[0],u=i[1],m=Object(r.useState)(),d=b()(m,2),p=d[0],f=d[1];return P()(j()(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:t=e.sent,f(t),u(S.a(O.a(["manifest","title"]),t));case 5:case"end":return e.stop()}}),e)}))),[]),Object(r.useEffect)((function(){if(p){var e,t,a=(e=c,t=p,new M.a(t,["manifest.title","manifest.author","meta.tags"],{caseSensitive:!1}).search(e)),r=S.a(O.a(["manifest","title"]),a);I.a(r,o)||u(r)}}),[c]),n.a.createElement(_e.Provider,{value:{allStickerPacks:p,searchQuery:c,setSearchQuery:s,searchResults:o}},e.children)},Ke=_e,Ye=Object(o.styled)("div")({name:"SearchInput",class:"sooxe2f"}),Be=function(){var e=Object(r.useContext)(Ke),t=e.allStickerPacks,a=e.searchQuery,c=e.setSearchQuery,s=Object(r.useState)(""),l=b()(s,2),i=l[0],o=l[1],u=g()(w,"xl").breakpoint,d=v()((function(e){c(e)}),{wait:250});Object(r.useEffect)((function(){a&&o(a)}),[]),Object(r.useEffect)((function(){return d.cancel(),d(i),function(){d.cancel()}}),[i]);var p=t?"Search ".concat(t.length," sticker packs..."):"";return n.a.createElement(Ye,{className:"row mb-4 mb-md-5"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"form-group m-0"},n.a.createElement("div",{className:Object(k.cx)("input-group",["md","lg","xl"].includes(u)&&"input-group-lg")},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},n.a.createElement(m.a,{name:"search"}))),n.a.createElement("input",{type:"text",key:"search",className:"form-control",onChange:function(e){var t=e.target.value;o(t)},value:i,placeholder:p,title:"Search","aria-label":"search",autoComplete:"false",spellCheck:"false"}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"input-group-text btn btn-light btn-sm",onClick:function(e){e.preventDefault(),o(""),c("")},title:"Clear Search Results"},"Â ",n.a.createElement(m.a,{name:"x",className:"text-danger"})))))))};a("./.linaria-cache/src/components/home/SearchInput.linaria.css");var Le=a("./node_modules/react-waypoint/es/index.js"),He=a("./node_modules/ramda/es/take.js"),Xe=Object(o.styled)("div")({name:"StickerPackPreviewCard",class:"s6bnemm",vars:{"s6bnemm-0":[function(e){return e.nsfw?"blur(4px)":"none"}]}}),Je=function(e){var t=Object(r.useState)(),a=b()(t,2),c=a[0],s=a[1],l=e.stickerPack,i=l.meta,o=l.manifest;P()(j()(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===i.id){e.next=6;break}return e.next=4,Ue(i.id,i.key,"cover");case 4:t=e.sent,s(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("[StickerPackPreviewCard::Effect::GetCover] ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);var u=[o.title,i.nsfw&&" (NSFW)"].filter(Boolean).join("");return n.a.createElement(Xe,{className:"card",nsfw:i.nsfw,"aria-label":u},c?n.a.createElement("img",{className:"card-img-top",src:c}):n.a.createElement("div",{className:"card-img-top"}),n.a.createElement("div",{className:"card-header"},u))};a("./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css");var Ge=Object(o.styled)("div")({name:"StickerPackList",class:"soapbay"}),Qe=function(){var e=Object(r.useContext)(Ke).searchResults,t=Object(r.useState)(0),a=b()(t,2),c=a[0],s=a[1],i=Object(r.useState)([]),o=b()(i,2),u=o[0],m=o[1];function d(){return p.apply(this,arguments)}function p(){return(p=j()(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u.length>=e.length)){t.next=2;break}return t.abrupt("return");case 2:s(a=c+32),m(He.a(a,e));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return P()(j()(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(0),m([]),e.next=4,d();case 4:case"end":return e.stop()}}),e)}))),[e]),n.a.createElement(Ge,{className:"row"},u.map((function(e){var t=e.meta,a=e.manifest;return n.a.createElement(l.b,{className:"col-6 col-md-4 col-lg-3 mb-4",key:t.id,to:"/pack/".concat(t.id)},n.a.createElement(Je,{stickerPack:{meta:t,manifest:a}}))})),n.a.createElement(Le.a,{key:c,onEnter:d}))};a("./.linaria-cache/src/components/home/SearchResults.linaria.css");var We=function(){return n.a.createElement("div",{className:"mt-4 mt-md-5 mb-5"},n.a.createElement("p",null,"Welcome to Signal Stickers, the unofficial directory for Signal sticker packs. You can filter packs by title, author, or tags."),n.a.createElement(Be,null),n.a.createElement(Qe,null))},ze=a("./node_modules/react-linkify/dist/index.js"),Ve=a.n(ze),Ze=a("./node_modules/ramda/es/index.js"),$e=a("./node_modules/ramda/es/prop.js");var et=Object(o.styled)("div")({name:"Sticker",class:"sahlm9h"}),tt=function(e){var t=e.packId,a=e.packKey,c=e.stickerId,s=Object(r.useState)(""),l=b()(s,2),i=l[0],o=l[1],u=Object(r.useState)(""),m=b()(u,2),d=m[0],p=m[1];return P()(j()(N.a.mark((function e(){var r,n,s,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Re(t,a,c),Ue(t,a,c)]);case 2:r=e.sent,n=b()(r,2),s=n[0],l=n[1],o(s),p(l);case 8:case"end":return e.stop()}}),e)}))),[]),i&&d?n.a.createElement(et,{className:"shadow-sm m-3 p-4"},n.a.createElement("div",{className:"emoji"},i),n.a.createElement("img",{src:d,alt:"Sticker"})):null};a("./.linaria-cache/src/components/pack/Sticker.linaria.css");var at=function(e){return n.a.createElement("div",{className:"p-4 my-4"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-10 offset-1 alert alert-danger"},n.a.createElement("h3",{className:"alert-heading mt-1 mb-3"},"Error"),e.children)))},rt=function(e){return n.a.createElement("div",{className:"badge badge-primary"},e.children)},nt=Object(o.styled)("div")({name:"StickerPackDetail",class:"s11r72gg"});function ct(e,t,a){return n.a.createElement("a",{href:e,key:a,target:"_blank",rel:"noreferrer"},t)}var st=function(){var e=Object(i.g)().packId,t=new URLSearchParams(Object(i.f)().search).get("key"),a=Object(r.useState)(),c=b()(a,2),s=c[0],o=c[1],u=Object(r.useState)(),d=b()(u,2),p=d[0],f=d[1],h=Object(r.useState)(),v=b()(h,2),k=v[0],E=v[1],g=Object(r.useState)(""),y=b()(g,2),w=y[0],x=y[1];if(P()(j()(N.a.mark((function a(){var r,n;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,e){a.next=3;break}return a.abrupt("return");case 3:return a.t0=Ze,a.t1=$e.a("meta"),a.next=7,Oe();case 7:if(a.t2=a.sent,r=a.t0.map.call(a.t0,a.t1,a.t2),!(n=Y.a(B.a("id",e),r))){a.next=19;break}return E(n),o(n.key),a.t3=f,a.next=16,Ce(e,n.key,!0);case 16:return a.t4=a.sent,(0,a.t3)(a.t4),a.abrupt("return");case 19:if(!t){a.next=27;break}return o(t),a.t5=f,a.next=24,Ce(e,t);case 24:return a.t6=a.sent,(0,a.t5)(a.t6),a.abrupt("return");case 27:throw new he("NO_KEY_PROVIDED","No key provided.");case 30:a.prev=30,a.t7=a.catch(0),a.t7.code&&x(a.t7.code);case 33:case"end":return a.stop()}}),a,null,[[0,30]])}))),[]),!e||!s||!p){if(w)switch(w){case"NO_KEY_PROVIDED":return n.a.createElement(at,null,n.a.createElement("p",null,"This sticker pack is not listed in the Signal Stickers directory. However, if you have the pack's ",n.a.createElement("strong",null,"key"),", you can still preview the sticker pack by supplying a ",n.a.createElement("code",null,"key")," parameter in the URL."),n.a.createElement("p",null,"For example: ",n.a.createElement("code",null,"/pack/".concat(e,"?key=sticker-pack-key"))));case"MANIFEST_DECRYPT":return n.a.createElement(at,null,n.a.createElement("p",null,"The provided key is invalid."));default:return n.a.createElement(at,null,n.a.createElement("p",null,"An unknown error occurred (",w,")."))}return null}var A=(null==k?void 0:k.source)||"N/A",S=p.stickers.length,O=p.author.trim()?p.author:"Anonymous",I=null==k?void 0:k.tags,F="https://signal.art/addstickers/#pack_id=".concat(e,"&pack_key=").concat(s);return n.a.createElement(nt,{className:"px-1 px-sm-4 py-4 mt-0 mt-sm-5 mb-5"},n.a.createElement("div",{className:"row mb-4 flex-column-reverse flex-lg-row"},n.a.createElement("div",{className:"col-12 col-lg-8 mt-4 mt-lg-0"},n.a.createElement("div",{className:"title"},p.title),n.a.createElement("div",{className:"author"},O)),n.a.createElement("div",{className:"col-12 col-lg-4 d-flex d-lg-block justify-content-between text-md-right"},k?n.a.createElement(l.b,{to:"/"},n.a.createElement("button",{type:"button",className:"btn btn-link mr-2"},"Home")):null,n.a.createElement("a",{href:F,target:"_blank",rel:"noreferrer",title:"Add to Signal"},n.a.createElement("button",{className:"btn btn-primary"},n.a.createElement(m.a,{name:"plus"}),"Â Add to Signal")))),k?n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-12 col-lg-6"},n.a.createElement("ul",{className:"list-group"},n.a.createElement("li",{className:"list-group-item text-wrap text-break"},n.a.createElement(m.a,{name:"globe",title:"Source"}),n.a.createElement("div",null,n.a.createElement(Ve.a,{componentDecorator:ct},A))),n.a.createElement("li",{className:"list-group-item text-wrap text-break"},n.a.createElement(m.a,{name:"file-directory",title:"Sticker Count"}),S),k.nsfw?n.a.createElement("li",{className:"list-group-item text-wrap text-break"},n.a.createElement(m.a,{name:"alert",title:"NSFW"})," ",n.a.createElement("strong",null,"NSFW")):null,n.a.createElement("li",{className:"list-group-item"},n.a.createElement(m.a,{name:"tag",title:"Tags"}),n.a.createElement("div",{className:"text-wrap text-break"},0===I.length?"None":I.map((function(e){return n.a.createElement(rt,{key:e},e)}))))))):null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"d-flex flex-wrap justify-content-around"},p.stickers.map((function(t){return n.a.createElement(tt,{packId:e,packKey:s,stickerId:t.id,key:t.id})}))))))};a("./.linaria-cache/src/components/pack/StickerPackDetail.linaria.css");var lt=Object(o.styled)("div")({name:"FlexSpacer0",class:"flkxylh"});a("./.linaria-cache/src/components/layout/FlexSpacer.linaria.css");var it=Object(o.styled)("footer")({name:"FooterWrapper",class:"fu9i7p8"}),ot=Object(o.styled)("div")({name:"Footer",class:"f4rr4yy"}),ut=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(lt,null),n.a.createElement(it,null,n.a.createElement("div",{className:"container"},n.a.createElement(ot,{className:"row pt-5 pb-3"},n.a.createElement("div",{className:"col-12 col-md-6 about"},n.a.createElement("h1",{className:"mb-4"},"About"),n.a.createElement("p",null,"Browse and download more than 100 sticker packs for Signal, the secure messenger. These stickers are created by the community; the maintainers of this website do not claim any rights. ",n.a.createElement("strong",null,"This site is not affiliated with Signal"),"."),n.a.createElement("p",null,n.a.createElement("a",{href:"https://twitter.com/search?q=%23makeprivacystick&src=typed_query",rel:"noreferrer",target:"_blank"},n.a.createElement("strong",null,"#makeprivacystick")))),n.a.createElement("div",{className:"col-12 col-md-6 links"},n.a.createElement("h1",{className:"mb-4"},"Links"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://signal.org",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," Learn More About Signal")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://github.com/romainricard/signalstickers",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," GitHub Repository")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://github.com/romainricard/signalstickers/issues/new",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," Report an Issue")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://support.signal.org/hc/en-us/articles/360031836512-Stickers#h_c2a0a45b-862f-4d12-9ab1-d9a6844062ca",rel:"noreferrer",target:"_blank"},n.a.createElement(m.a,{name:"link-external"})," Sticker Pack Creation Guide"))))))))};a("./.linaria-cache/src/components/layout/Footer.linaria.css");var mt,dt=a("./node_modules/formik/dist/formik.esm.js"),pt=a("./node_modules/ramda/es/compose.js"),ft=Object(o.styled)("div")({name:"Contribute",class:"c1b6b6t9"}),bt=/^https:\/\/signal.art\/addstickers\/#pack_id=([A-Za-z0-9]+)&pack_key=([A-Za-z0-9]+)$/g,ht=/^(?:([\w\d-_ ]+))+(?:, ([\w\d-_ ]+))*$/g,vt={signalArtUrl:"",source:"",tags:"",isNsfw:void 0},kt={signalArtUrl:(mt=j()(N.a.mark((function e(t){var a,r,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","This field is required.");case 2:if(a=new RegExp(bt).exec(t)){e.next=5;break}return e.abrupt("return","Invalid signal.art URL.");case 5:return r=b()(a,3),n=r[1],c=r[2],e.t0=Ze,e.t1=pt.a(B.a("id",n),$e.a("meta")),e.next=10,Oe();case 10:if(e.t2=e.sent,!e.t0.find.call(e.t0,e.t1,e.t2)){e.next=13;break}return e.abrupt("return","A sticker pack with that ID already exists in the directory.");case 13:return e.prev=13,e.next=16,Ce(n,c);case 16:e.next=21;break;case 18:return e.prev=18,e.t3=e.catch(13),e.abrupt("return","Invalid sticker pack. Please check the pack ID and key.");case 21:case"end":return e.stop()}}),e,null,[[13,18]])}))),function(e){return mt.apply(this,arguments)}),source:function(e){if(e&&e.length>320)return"This field must be no longer than 320 characters."},tags:function(e){if(""!==e&&!new RegExp(ht).test(e))return"Invalid value. Tags must be a list of comma-delimited strings."},isNsfw:function(e){if(void 0===e)return"This field is required."}},Et=function(){var e=Object(r.useState)(!1),t=b()(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),l=b()(s,2),i=l[0],o=l[1],u=function(){c(!0),o("")};return n.a.createElement(ft,{className:"px-1 px-md-4 py-4 mt-0 mt-md-5 mb-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("p",null,"Getting your sticker pack listed in the Signal Stickers directory is easy! First, paste the ",n.a.createElement("code",null,"signal.art")," link for your sticker pack, including the ",n.a.createElement("code",null,"pack_id")," and ",n.a.createElement("code",null,"pack_key")," values, into the form below. Then, answer a few questions about your sticker pack and add optional metadata."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-8 offset-md-2 mt-4"},n.a.createElement(dt.d,{initialValues:vt,onSubmit:function(e){var t=new RegExp(bt).exec(e.signalArtUrl);if(!t)throw new Error("Unable to extract pack ID and pack key from signal.art URL.");var a=b()(t,3),r=a[1],n=a[2];return o(JSON.stringify(be()({},r,{key:n,source:e.source,tags:e.tags,nsfw:"true"===e.isNsfw}),null,2).trim()),!0},validateOnChange:a,validateOnBlur:a},(function(e){var t=e.values,a=e.errors,r=e.isValidating,c=e.isSubmitting;return n.a.createElement(dt.c,{noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12",a.signalArtUrl&&"text-danger"),htmlFor:"signal-art-url"},"Signal Art URL:",n.a.createElement(dt.b,{type:"text",id:"signal-art-url",name:"signalArtUrl",validate:kt.signalArtUrl,className:Object(k.cx)("form-control",a.signalArtUrl&&"is-invalid"),placeholder:"https://signal.art/addstickers/#pack_id=<your pack id>&pack_key=<your pack key>"}),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(dt.a,{name:"signalArtUrl"}),"Â ")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12",a.source&&"text-danger"),htmlFor:"source"},"(Optional) Source:",n.a.createElement(dt.b,{type:"text",id:"source",name:"source",validate:kt.source,className:Object(k.cx)("form-control",a.source&&"is-invalid")}),n.a.createElement("small",{className:"form-text text-muted"},"Original author, website, company, etc."),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(dt.a,{name:"source"}),"Â ")))),n.a.createElement("div",{className:"form-group mb-4"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12",a.tags&&"text-danger"),htmlFor:"tags"},"(Optional) Tags:",n.a.createElement(dt.b,{type:"text",id:"tags",name:"tags",validate:kt.tags,className:Object(k.cx)("form-control",a.tags&&"is-invalid")}),n.a.createElement("small",{className:"form-text text-muted"},"Comma-separated list of words."),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(dt.a,{name:"tags"}),"Â ")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("label",{className:Object(k.cx)("col-12","mb-2",a.isNsfw&&"text-danger")},"Is your sticker pack ",n.a.createElement("a",{href:"https://www.urbandictionary.com/define.php?term=NSFW",target:"_blank",rel:"noreferrer"},"NSFW"),"?")),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"col-12 mb-1"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement(dt.b,{type:"radio",id:"is-nsfw-true",name:"isNsfw",validate:kt.isNsfw,className:Object(k.cx)("custom-control-input",a.isNsfw&&"is-invalid"),value:"true",checked:"true"===t.isNsfw}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"is-nsfw-true"},"Yes"))),n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement(dt.b,{type:"radio",id:"is-nsfw-false",name:"isNsfw",validate:kt.isNsfw,className:Object(k.cx)("custom-control-input",a.isNsfw&&"is-invalid"),value:"false",checked:"false"===t.isNsfw}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"is-nsfw-false"},"No")),n.a.createElement("div",{className:"invalid-feedback"},n.a.createElement(dt.a,{name:"isNsfw"}),"Â ")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:c||r,onClick:u},"Generate JSON")))))})))),i?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("hr",null),n.a.createElement("p",{className:"mt-4 mb-4"},"Great! Below is the JSON blob you will need to add to ",n.a.createElement("code",null,"stickers.json")," in the ",n.a.createElement("a",{href:"https://github.com/romainricard/signalstickers/edit/master/stickers.json"},"Signal Stickers repository"),"."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-10 offset-md-1"},n.a.createElement("div",{className:"card"},n.a.createElement("pre",null,i))))):null)};a("./.linaria-cache/src/components/contribute/Contribute.linaria.css");var gt=function(){return n.a.createElement(l.a,{basename:"/signalstickers/"},n.a.createElement(qe,null,n.a.createElement(p,null),n.a.createElement("div",{className:"container"},n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/"},n.a.createElement(We,null)),n.a.createElement(i.a,{path:"/pack/:packId"},n.a.createElement(st,null)),n.a.createElement(i.a,{path:"/contribute"},n.a.createElement(Et,null)))),n.a.createElement(ut,null)))},yt=a("./node_modules/bytes/index.js"),wt=a.n(yt);function xt(){return(xt=j()(N.a.mark((function e(){var t,a,r,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 2:return e.next=4,navigator.storage.estimate();case 4:a=e.sent,r=null==a?void 0:null===(t=a.usageDetails)||void 0===t?void 0:t.indexedDB,n=a.quota,r&&n&&(c=(r/n*100).toFixed(2),console.debug("IndexedDB is currently using ".concat(wt()(r)," of data, or ").concat(c,"% of the ").concat(wt()(n)," quota.")));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a("./src/index.css");!function(){xt.apply(this,arguments)}(),s.a.render(n.a.createElement(gt,null),document.getElementById("root"))},0:function(e,t,a){a("./node_modules/@babel/polyfill/lib/index.js"),e.exports=a("./src/index.tsx")}});
//# sourceMappingURL=app-803aab75c684cb50ce9e.js.map