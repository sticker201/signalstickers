{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/layout/Navbar.tsx","webpack:///./src/assets/signal-logo.png","webpack:///./src/etc/constants.ts","webpack:///./src/lib/convert.ts","webpack:///./src/lib/error.ts","webpack:///./src/lib/crypto.ts","webpack:///./src/lib/stickers.ts","webpack:///./src/etc/Stickers.proto","webpack:///./src/contexts/StickersContext.tsx","webpack:///./src/components/home/SearchInput.tsx","webpack:///./src/components/home/StickerPackPreviewCard.tsx","webpack:///./src/components/home/SearchResults.tsx","webpack:///./src/components/home/Home.tsx","webpack:///./src/components/pack/Sticker.tsx","webpack:///./src/components/pack/StickerPackError.tsx","webpack:///./src/components/pack/Tag.tsx","webpack:///./src/components/pack/StickerPackDetail.tsx","webpack:///./src/hooks/use-query.ts","webpack:///./src/components/layout/FlexSpacer.tsx","webpack:///./src/components/layout/Footer.tsx","webpack:///./src/components/contribute/Contribute.tsx","webpack:///./src/components/App.tsx","webpack:///./src/lib/utils.ts","webpack:///./src/index.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","StyledNavBar","className","to","src","alt","title","href","BOOTSTRAP_BREAKPOINTS","xs","sm","md","lg","xl","webp","Webp","Module","doNotCaptureKeyboard","webpConverter","WebpMachine","webpSupport","detectWebpSupport","detectWebpImage","defaultDetectWebpImage","hasWebpSupportPromise","imageConversionQueue","pQueue","concurrency","convertImage","imageData","a","base64Data","btoa","String","fromCharCode","undefined","add","pWaitFor","busy","decode","console","error","message","ErrorWithCode","code","err","errWithCode","stack","Error","hexToArrayBuffer","hexString","tmpHexString","parseInt","substring","Uint8Array","deriveKeys","encodedKey","crypto","subtle","importKey","masterKey","algorithm","hash","salt","ArrayBuffer","info","TextEncoder","encode","derivedKeyAlgorithm","deriveKey","derivedKeys","exportKey","derivedKeyBytes","decryptManifest","rawManifest","keys","encryptedManifest","theirIv","cipherTextBody","byteLength","theirMac","combinedCipherText","macKey","verify","cipherKey","decrypt","iv","from","protobufClient","protobuf","parse","root","stickerPackListCache","stickerPackCache","Map","stickerImageCache","LocalForage","createInstance","storeName","warmCachesIfNecessary","axios","method","url","res","R","set","meta","id","manifest","getStickerPackList","parseManifest","PackMessage","lookupType","manifestData","getStickerPack","fetchStickersIfNecessary","cacheKey","hasCachedPack","has","hasStickers","stickers","responseType","getStickerInPack","stickerId","getItem","item","stickerPack","finalStickerId","cover","arrayBufferView","convertedImage","setItem","getEmojiForSticker","sticker","emoji","Context","createContext","Provider","props","useState","searchQuery","setSearchQuery","searchResults","setSearchResults","allStickerPacks","setAllStickerPacks","useAsyncEffect","stickerPacks","useEffect","needle","haystack","rawSearchResults","FuzzySearch","caseSensitive","search","sortedSearchResults","children","SearchInput","useContext","breakpoint","useBreakpoint","debouncedSetSearchQuery","debounceFn","wait","setSearchQueryInputValue","placeholder","cx","includes","type","onChange","event","aria-label","autoComplete","spellCheck","onClick","StickerPackPreviewCard","coverImage","setCover","nsfw","StickerPackList","renderedSearchResults","setCursor","newCursor","cursor","setRenderedSearchResults","loadMore","onEnter","HomeComponent","Sticker","Promise","packId","packKey","setEmoji","setStickerSrc","StickerPackError","Tag","StickerPackDetail","LinkifyHrefDecorator","decoratedHref","target","rel","useParams","URLSearchParams","useLocation","useQuery","allPackMeta","packMetadata","setStickerPackMeta","setStickerPackKey","setStickerPack","setStickerPackError","source","stickerPackMeta","numStickers","author","stickerPackTags","addToSignalHref","componentDecorator","tag","FooterWrapper","Footer","Contribute","SIGNAL_ART_URL_PATTERN","TAGS_PATTERN","initialValues","signalArtUrl","tags","isNsfw","validators","matches","RegExp","exec","test","onSubmitClick","setHasBeenSubmitted","setYmlBlob","onSubmit","values","validateOnChange","validateOnBlur","isSubmitting","noValidate","errors","htmlFor","validate","checked","disabled","ymlBlob","App","basename","Navbar","exact","path","Home","navigator","storage","estimate","storageEstimate","idbUsage","usageDetails","indexedDB","quota","percentageUsed","toFixed","debug","bytes","printStorageUsage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"app-4b30dc5a9c1d77ffd980.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {styled} from 'linaria/react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\n\nimport SignalLogoUrl from 'assets/signal-logo.png';\nimport {SIGNAL_BLUE} from 'etc/colors';\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst StyledNavBar = styled.nav`\n  background-color: ${SIGNAL_BLUE};\n  color: white;\n  padding: 8px 0;\n\n  & .brand {\n    font-size: 28px;\n    font-weight: 400;\n    color: white;\n\n    &:hover {\n      color: white;\n      text-decoration: none;\n    }\n\n    & img {\n      bottom: 2px;\n      height: 32px;\n      position: relative;\n      width: 32px;\n    }\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst NavbarComponent: React.FunctionComponent = () => {\n  return (\n    <>\n      <StyledNavBar>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-12 col-md-6 text-center text-md-left mb-2 mb-sm-1\">\n              <Link className=\"brand\" to=\"/\"><img src={SignalLogoUrl} alt=\"Signal Logo\" /> Signal Stickers</Link>\n            </div>\n            <div className=\"col-12 col-md-6 text-center text-md-right mt-2 mb-2 mb-md-0\">\n              <Link to=\"/contribute\" title=\"Contribute\">\n                <button className=\"btn btn-light btn-sm mr-3\"><Octicon name=\"plus\" />&nbsp;Contribute</button>\n              </Link>\n              <a href=\"https://signal.org\" title=\"Get Signal\">\n                <button className=\"btn btn-primary btn-sm\">Get Signal</button>\n              </a>\n            </div>\n          </div>\n        </div>\n      </StyledNavBar>\n    </>\n  );\n};\n\n\nexport default NavbarComponent;\n","export default \"data:image/png;base64,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\"","/**\n * Mapping of Bootstrap 4 breakpoint names to their minWidths.\n */\nexport const BOOTSTRAP_BREAKPOINTS = {\n  xs: 0,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200\n};\n","/**\n * ===== Image Converter =======================================================\n *\n * This module is responsible for converting WebP images to PNG images on\n * browsers that do not support WebP. Because we will be getting multiple\n * simultaneous calls to this function when the site loads, we use an\n * asynchronous task queue to limit concurrency of image conversion jobs.\n */\nimport pQueue from 'p-queue';\nimport pWaitFor from 'p-wait-for';\nimport {\n  WebpMachine,\n  detectWebpSupport,\n  defaultDetectWebpImage\n} from 'webp-hero';\nimport {Webp} from 'webp-hero/libwebp/dist/webp.js';\n\n\n// ----- Fixed Webp Instance ---------------------------------------------------\n\n/**\n * One of Webp Hero's dependencies seems to block user input when a conversion\n * is run. This fix can be found here:\n *\n * https://github.com/chase-moskal/webp-hero/issues/18#issuecomment-560188272\n */\nconst webp = new Webp();\nwebp.Module.doNotCaptureKeyboard = true;\n\n\n// ----- Locals ----------------------------------------------------------------\n\n/**\n * Module-local WepP to PNG converter.\n */\nconst webpConverter = new WebpMachine({\n  webp,\n  webpSupport: detectWebpSupport(),\n  detectWebpImage: defaultDetectWebpImage\n});\n\n/**\n * Ensures we check for WebP support only once.\n */\nconst hasWebpSupportPromise = detectWebpSupport();\n\n/**\n * Module-local asynchronous queue facility that will allow us to limit the\n * number of concurrent image conversion operations.\n */\nconst imageConversionQueue = new pQueue({concurrency: 1});\n\n\n// ----- Functions -------------------------------------------------------------\n\n/**\n * Resolves with `true` if the browser supports WebP or `false` otherwise.\n */\nexport async function hasWebpSupport() {\n  return hasWebpSupportPromise;\n}\n\n\n/**\n * If the browser has WebP support, the image data is converted into a base-64\n * encoded string and returned. Otherwise, the image is converted to PNG using\n * webp-hero and returned as a base-64 encoded string. Both variants are\n * suitable for using in the \"src\" attribute of an img tag.\n */\nexport async function convertImage(imageData: Uint8Array) {\n  if (await hasWebpSupportPromise) {\n    // If the browser supports WebP, we don't need to convert it to PNG.\n    const base64Data = btoa(String.fromCharCode.apply(undefined, imageData));\n    return `data:image/webp;base64,${base64Data}`;\n  }\n\n  // Otherwise, convert the WEBP image to PNG. This will take a noticeable\n  // amount of time/memory on the user's machine, but is the only way we can\n  // display these images at this time.\n  return imageConversionQueue.add(async () => {\n    try {\n      // @ts-ignore (`busy` is not an exposed member of WebpMachine.)\n      await pWaitFor(() => webpConverter.busy === false);\n      return await webpConverter.decode(imageData);\n    } catch (err) {\n      console.error(`[convertImage] Image conversion failed: ${err.message}`);\n      throw err;\n    }\n  });\n}\n","export default class ErrorWithCode extends Error {\n  code: string;\n\n\n  constructor(code: string, message: string) {\n    super(message);\n    this.code = code || 'UNKNOWN';\n  }\n\n\n  static from(code: string, err: Error) {\n    const errWithCode = new ErrorWithCode(code, err.message);\n    errWithCode.stack = err.stack;\n    return errWithCode;\n  }\n}\n","// ===== Crypto Utilities ======================================================\n\n/**\n * This module contains various functions that aid in the decryption of sticker\n * pack data from Signal. Browser detection for browser support of the\n * SubtleCrypto API should probably be added at some point.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto\n */\nimport ErrorWithCode from 'lib/error';\n\n\n/**\n * [private]\n *\n * Converts the provided string to a Uint8Array.\n */\nfunction hexToArrayBuffer(hexString: string) {\n  const result = [];\n  let tmpHexString = hexString;\n\n  while (tmpHexString.length >= 2) {\n    result.push(parseInt(tmpHexString.substring(0, 2), 16));\n    tmpHexString = tmpHexString.substring(2, tmpHexString.length);\n  }\n\n  return new Uint8Array(result);\n}\n\n\n/**\n * [private]\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/deriveKey\n */\nasync function deriveKeys(encodedKey: string) {\n  const masterKey = await window.crypto.subtle.importKey('raw', hexToArrayBuffer(encodedKey), 'HKDF', false, ['deriveKey']);\n\n  const algorithm: HkdfParams = {\n    name: 'HKDF',\n    hash: 'SHA-256',\n    salt: new ArrayBuffer(32),\n    info: new TextEncoder().encode('Sticker Pack')\n  };\n\n  const derivedKeyAlgorithm = {\n    name: 'HMAC',\n    hash: 'SHA-256',\n    length: 512\n  };\n\n  // @ts-ignore (The typedef for the SubtleCrypto API incorrectly states that\n  // we need an HkdfCtrParams object as our first param when in fact we need a\n  // HkdfParams object.)\n  const derivedKeys = await window.crypto.subtle.deriveKey(algorithm, masterKey, derivedKeyAlgorithm, true, ['verify']);\n\n  const derivedKeyBytes = await window.crypto.subtle.exportKey('raw', derivedKeys);\n  return [derivedKeyBytes.slice(0, 32), derivedKeyBytes.slice(32, 64)];\n}\n\n\n/**\n * Decrypts a manifest returned from the Signal API using a sticker pack's\n * pack key, provided from stickers.json.\n */\nexport async function decryptManifest(encodedKey: string, rawManifest: any) {\n  try {\n    const keys = await deriveKeys(encodedKey);\n    const encryptedManifest = new Uint8Array(rawManifest);\n    const theirIv = encryptedManifest.slice(0, 16);\n    const cipherTextBody = encryptedManifest.slice(16, encryptedManifest.byteLength - 32);\n    const theirMac = encryptedManifest.slice(encryptedManifest.byteLength - 32, encryptedManifest.byteLength);\n    const combinedCipherText = encryptedManifest.slice(0, encryptedManifest.byteLength - 32);\n    const macKey = await window.crypto.subtle.importKey('raw', keys[1], {name: 'HMAC', hash: {name: 'SHA-256'}}, false, ['verify', 'sign']);\n    const isValid = await window.crypto.subtle.verify('HMAC', macKey, theirMac, combinedCipherText);\n\n    if (!isValid) {\n      throw new Error('MAC verification failed.');\n    }\n\n    const cipherKey = await window.crypto.subtle.importKey('raw', keys[0], 'AES-CBC', false, ['decrypt']);\n    return window.crypto.subtle.decrypt({name: 'AES-CBC', iv: theirIv}, cipherKey, cipherTextBody);\n  } catch (err) {\n    throw ErrorWithCode.from('MANIFEST_DECRYPT', err);\n  }\n}\n","// ===== Stickers Module =======================================================\n\n/**\n * This module contains several functions for loading, fetching, decrypting, and\n * caching stickers. Most notably, we fall back to a WebP-toPNG conversion when\n * on browsers that do not natively support WebP. It should be noted that this\n * process is time/CPU intensive and can cause have a significant performance\n * impact on the user's experience. Through queueing and max concurrency\n * settings, Safari seems to be able to handle this load without issue (albeit\n * far more slowly than Chrome).\n */\nimport axios from 'axios';\nimport FuzzySearch from 'fuzzy-search';\nimport LocalForage from 'localforage';\nimport protobuf from 'protobufjs';\nimport * as R from 'ramda';\n\nimport {\n  StickerPackJson,\n  StickerPackMetadata,\n  StickerPackManifest,\n  StickerPack,\n  Sticker\n} from 'etc/types';\nimport StickersProto from 'etc/Stickers.proto';\nimport {convertImage} from 'lib/convert';\nimport {decryptManifest} from 'lib/crypto';\nimport ErrorWithCode from 'lib/error';\n\n\n// ----- Locals ----------------------------------------------------------------\n\n/**\n * Module-local gRPC client used to parse sticker pack manifests from the Signal\n * CDN.\n */\nconst protobufClient = protobuf.parse(StickersProto).root;\n\n/**\n * Module-local in-memory copy of stickerData.json, ensures we only load it once.\n */\nlet stickerPackListCache: Array<StickerPack> = [];\n\n /**\n  * Module-local in-memory cache used for sticker pack data from the Signal API.\n  */\nlet stickerPackCache = new Map<string, StickerPackManifest>();\n\n/**\n * Module-local browser-storage-backed cache used for sticker image data.\n */\nconst stickerImageCache = LocalForage.createInstance({\n  name: 'Signal Stickers',\n  storeName: 'Image Cache'\n});\n\n\n// ----- Functions -------------------------------------------------------------\n\nasync function warmCachesIfNecessary() {\n  if (stickerPackListCache.length !== 0) {\n    return;\n  }\n\n  const res = await axios({\n    method: 'GET',\n    url: 'stickerData.json'\n  });\n\n  stickerPackListCache = res.data as Array<StickerPack>;\n\n  // Warm sticker manifest map.\n  stickerPackCache = R.reduce((result, value) => {\n    result.set(value.meta.id, value.manifest);\n    return result;\n  }, new Map<string, StickerPackManifest>(), stickerPackListCache);\n}\n\n/**\n * Loads and transforms stickers.json, which is the source of truth regarding\n * all sticker packs included in the application.\n */\nexport async function getStickerPackList(): Promise<Array<StickerPackMetadata>> {\n  await warmCachesIfNecessary();\n  return stickerPackListCache;\n}\n\n\n/**\n * Provided a key and an encrypted manifest from the Signal API, resolves with a\n * decrypted and parsed manifest.\n */\nexport async function parseManifest(key: string, rawManifest: any): Promise<StickerPackManifest> {\n  try {\n    const manifest = await decryptManifest(key, rawManifest);\n    const PackMessage = protobufClient.lookupType('Pack');\n    const manifestData = new Uint8Array(manifest, 0, manifest.byteLength);\n    return PackMessage.decode(manifestData) as unknown as StickerPackManifest;\n  } catch (err) {\n    throw new ErrorWithCode(err.code || 'MANIFEST_PARSE', `[parseManifest] ${err.message}`);\n  }\n}\n\n\n/**\n * Provided a sticker pack ID and key, queries the Signal API and resolves with\n * a parsed manifest.\n */\nexport async function getStickerPack(id: string, key: string, fetchStickersIfNecessary: boolean | false): Promise<StickerPackManifest> {\n  try {\n    await warmCachesIfNecessary();\n\n    const cacheKey = id;\n\n    const hasCachedPack = stickerPackCache.has(cacheKey);\n    const hasStickers = hasCachedPack && stickerPackCache.get(cacheKey).stickers;\n\n    if (!hasCachedPack || (fetchStickersIfNecessary && !hasStickers)) {\n      const res = await axios({\n        method: 'GET',\n        responseType: 'arraybuffer',\n        url: `https://cdn-ca.signal.org/stickers/${id}/manifest.proto`\n      });\n\n      const manifest = await parseManifest(key, res.data);\n      stickerPackCache.set(cacheKey, manifest);\n    }\n\n    return stickerPackCache.get(cacheKey) as StickerPackManifest;\n  } catch (err) {\n    throw new ErrorWithCode(err.code, `[getStickerPack] ${err.message}`);\n  }\n}\n\n\n/**\n * Provided a sticker pack ID and a sticker ID (or 'cover' for the pack's cover\n * sticker) queries the Signal API and resolves with a base-64 encoded string\n * representing the image data for the indicated sticker.\n */\nexport async function getStickerInPack(id: string, key: string, stickerId: number | 'cover'): Promise<string> {\n  try {\n    const cacheKey = `${id}-${stickerId}`;\n\n    const item = await stickerImageCache.getItem<string | undefined>(cacheKey);\n\n    if (!item) {\n      // Before we can make the request, we need to get the pack's information\n      // using getStickerPack.\n      const stickerPack = await getStickerPack(id, key);\n\n      if (!stickerPack) {\n        throw new Error(`[getStickerInPack] Unable to get sticker ${stickerId} in pack ${id}.`);\n      }\n\n      const finalStickerId = stickerId === 'cover' ? stickerPack.cover.id : stickerId;\n\n      const res = await axios({\n        method: 'GET',\n        responseType: 'arraybuffer',\n        url: `https://cdn-ca.signal.org/stickers/${id}/full/${finalStickerId}`\n      });\n\n      const manifest = await decryptManifest(key, res.data);\n      const arrayBufferView = new Uint8Array(manifest, 0, manifest.byteLength);\n      const convertedImage = await convertImage(arrayBufferView);\n      await stickerImageCache.setItem(cacheKey, convertedImage);\n    }\n\n    return item || await stickerImageCache.getItem<string>(cacheKey);\n  } catch (err) {\n    throw new Error(`[getStickerInPack] Error getting sticker: ${err.message}`);\n  }\n}\n\n\n/**\n * Provided a sticker pack ID, key, and sticker ID, returns the emoji associated\n * with the sticker.\n */\nexport async function getEmojiForSticker(id: string, key: string, stickerId: number | 'cover') {\n  try {\n    const stickerPack = await getStickerPack(id, key);\n    const finalStickerId = stickerId === 'cover' ? stickerPack.cover.id : stickerId;\n    const sticker = R.find<Sticker>(R.propEq('id', finalStickerId), stickerPack.stickers);\n\n    if (!sticker) {\n      throw new Error(`Sticker pack ${id} has no sticker with ID ${stickerId}.`);\n    }\n\n    return sticker.emoji;\n  } catch (err) {\n    throw new Error(`[getEmojiForSticker] ${err.stack}`);\n  }\n}\n\n\n/**\n * Performs a fuzzy search on cached StickerPack data and returns the result\n * set.\n */\nexport function fuzzySearchStickerPacks(needle: string, haystack: Array<StickerPack>): Array<StickerPack> {\n  const searchKeys = ['manifest.title', 'manifest.author', 'meta.tags'];\n  const searcher = new FuzzySearch(haystack, searchKeys, {caseSensitive: false});\n  return searcher.search(needle);\n}\n","export default \"message Pack {\\n  message Sticker {\\n    optional uint32 id    = 1;\\n    optional string emoji = 2;\\n  }\\n\\n  optional string  title    = 1;\\n  optional string  author   = 2;\\n  optional Sticker cover    = 3;\\n  repeated Sticker stickers = 4;\\n}\\n\\n\";","import React, {createContext, PropsWithChildren, useEffect, useState} from 'react';\nimport * as R from 'ramda';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {StickerPack} from 'etc/types';\nimport {\n  getStickerPackList,\n  getStickerPack,\n  fuzzySearchStickerPacks\n} from 'lib/stickers';\n\n\n/**\n * Shape of the object provided by this Context.\n */\nexport interface StickersProviderContext {\n  /**\n   * List of all sticker packs known to the application.\n   */\n  allStickerPacks: Array<StickerPack> | undefined;\n\n  /**\n   * Current search query. This is persisted here so that should the user return\n   * to the search page, their query and results will be preserved.\n   */\n  searchQuery: string;\n\n  /**\n   * Current result set based on the current value of search Query.\n   */\n  searchResults: Array<StickerPack>;\n\n  /**\n   * Allows a consumer to set the current search query, which will in turn\n   * update the current search results.\n   */\n  setSearchQuery(needle: string): void;\n}\n\n\nconst Context = createContext<StickersProviderContext>({} as any);\n\n\nexport const Provider = (props: PropsWithChildren<{}>) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<Array<StickerPack>>([]);\n  const [allStickerPacks, setAllStickerPacks] = useState<Array<StickerPack>>();\n\n\n  /**\n   * [Effect] When the component/context mounts, set the list of sticker\n   * packs from stickerData.json and setup the initial search results.\n   */\n  useAsyncEffect(async () => {\n    // Load the set of sticker packs we need from stickerData.json.\n    const stickerPacks = await getStickerPackList();\n\n    // Set the canonical list of all sticker packs.\n    setAllStickerPacks(stickerPacks);\n\n    // Finally, set our search results to the set of all sticker packs, sorted\n    // by title.\n    setSearchResults(R.sortBy(R.path<any>(['manifest', 'title']), stickerPacks));\n  }, []);\n\n\n  /**\n   * [Effect] Update `searchResults` when `searchQuery` changes.\n   */\n  useEffect(() => {\n    if (!allStickerPacks) {\n      return;\n    }\n\n    const rawSearchResults = fuzzySearchStickerPacks(searchQuery, allStickerPacks);\n\n    // Sort search results by title.\n    const sortedSearchResults = R.sortBy(R.path<any>(['manifest', 'title']), rawSearchResults);\n\n    // Only call `setSearchResults` if our new results have actually changed.\n    // This will save us superfluous re-renders.\n    if (!R.equals(sortedSearchResults, searchResults)) {\n      setSearchResults(sortedSearchResults);\n    }\n  }, [searchQuery]);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  return (\n    <Context.Provider value={{\n      allStickerPacks,\n      searchQuery,\n      setSearchQuery,\n      searchResults\n    }}>{props.children}</Context.Provider>\n  );\n};\n\n\nexport default Context;\n","import debounceFn from 'debounce-fn';\nimport {cx} from 'linaria';\nimport {styled} from 'linaria/react';\nimport React, {useContext, useState, useEffect} from 'react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport useBreakpoint from 'use-breakpoint';\n\nimport {SIGNAL_BLUE} from 'etc/colors';\nimport {BOOTSTRAP_BREAKPOINTS} from 'etc/constants';\nimport StickersContext from 'contexts/StickersContext';\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst SearchInput = styled.div`\n  & .octicon-search {\n    color: ${SIGNAL_BLUE};\n    font-size: 14px;\n    position: relative;\n    left: -1px;\n  }\n\n  & .input-group-lg {\n    & .octicon {\n      font-size: 24px;\n    }\n\n    & input {\n      font-weight: 400;\n    }\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst SearchInputComponent: React.FunctionComponent = () => {\n  const {allStickerPacks, searchQuery, setSearchQuery} = useContext(StickersContext);\n  const [searchQueryInputValue, setSearchQueryInputValue] = useState('');\n  const {breakpoint} = useBreakpoint(BOOTSTRAP_BREAKPOINTS, 'xl');\n\n\n  /**\n   * Allows us to de-bounce calls to setSearchQuery to avoid making excessive\n   * re-renders when the input value is updated.\n   */\n  const debouncedSetSearchQuery = debounceFn((value: string) => {\n    setSearchQuery(value);\n  }, {wait: 250});\n\n\n  /**\n   * [Event Handler] Updates our context's search query state.\n   */\n  function onSearchQueryInputChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const {value} = event.target;\n    setSearchQueryInputValue(value);\n  }\n\n\n  /**\n   * [Event Handler] Clears our context's search query state.\n   */\n  function clearSearchResults(event: React.SyntheticEvent) {\n    event.preventDefault();\n    setSearchQueryInputValue('');\n    setSearchQuery('');\n  }\n\n\n  /**\n   * [Effect] When the component mounts, set the search input's value to the\n   * current search query from our context.\n   */\n  useEffect(() => {\n    if (searchQuery) {\n      setSearchQueryInputValue(searchQuery);\n    }\n  }, []);\n\n\n  /**\n   * [Effect] When the search query is updated, call our de-bounced update\n   * function.\n   */\n  useEffect(() => {\n    debouncedSetSearchQuery.cancel();\n    debouncedSetSearchQuery(searchQueryInputValue);\n\n    return () => {\n      debouncedSetSearchQuery.cancel();\n    };\n  }, [searchQueryInputValue]);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  const placeholder = allStickerPacks ? `Search ${allStickerPacks.length} sticker packs...` : '';\n\n  return (\n    <SearchInput className=\"row mb-4 mb-md-5\">\n      <div className=\"col-12\">\n        <div className=\"form-group m-0\">\n          <div className={cx('input-group', ['md', 'lg', 'xl'].includes(breakpoint) && 'input-group-lg')}>\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <Octicon name=\"search\" />\n              </span>\n            </div>\n            <input\n              type=\"text\"\n              key=\"search\"\n              className=\"form-control\"\n              onChange={onSearchQueryInputChange}\n              value={searchQueryInputValue}\n              placeholder={placeholder}\n              title=\"Search\"\n              aria-label=\"search\"\n              autoComplete=\"false\"\n              spellCheck=\"false\"\n            />\n            <div className=\"input-group-append\">\n              <button className=\"input-group-text btn btn-light btn-sm\" onClick={clearSearchResults} title=\"Clear Search Results\">\n                &nbsp;<Octicon name=\"x\" className=\"text-danger\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </SearchInput>\n  );\n};\n\n\nexport default SearchInputComponent;\n","import React, {useState} from 'react';\nimport {styled} from 'linaria/react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {StickerPack} from 'etc/types';\nimport {getStickerInPack} from 'lib/stickers';\n\n\n// ----- Props -----------------------------------------------------------------\n\nexport interface Props {\n  stickerPack: StickerPack;\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst StickerPackPreviewCard = styled.div<React.ComponentProps<'div'> & {nsfw?: boolean}>`\n  text-align: center;\n  transition: box-shadow 0.15s ease-in-out;\n\n  & .card-img-top {\n    height: 72px;\n    width: 72px;\n    margin-top: 24px;\n    margin-bottom: 24px;\n    margin-left: auto;\n    margin-right: auto;\n    transition: transform 0.15s ease-in-out;\n    filter: ${props => props.nsfw ? 'blur(4px)' : 'none'};\n  }\n\n  & .card-header {\n    border-bottom: none;\n    border-top: 1px solid rgba(0, 0, 0, 0.125);\n    color: black;\n    font-size: 14px;\n    font-weight: 400;\n    white-space: nowrap;\n    overflow: hidden;\n    position: relative;\n\n    &::after {\n      background: linear-gradient(90deg, rgba(247, 247, 247, 0) 0%, rgba(247, 247, 247, 1) 50%);\n      border-bottom-right-radius: 4px;\n      bottom: 0;\n      content: ' ';\n      display: block;\n      pointer-events: none;\n      position: absolute;\n      right: 0;\n      top: 0;\n      width: 15%;\n    }\n  }\n\n  &:hover {\n    * {\n      color: black;\n    }\n\n    & .card-img-top {\n      transform: scale(1.1)\n    }\n\n    box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.2);\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst StickerPackPreviewCardComponent: React.FunctionComponent<Props> = props => {\n  const [cover, setCover] = useState<string | undefined>();\n  const {meta, manifest} = props.stickerPack;\n\n\n  /**\n   * [Effect] Loads a sticker pack's cover image when the component mounts.\n   */\n  useAsyncEffect(async () => {\n    try {\n      if (meta.id !== undefined) { // tslint:disable-line strict-type-predicates\n        const coverImage = await getStickerInPack(meta.id, meta.key, 'cover');\n        setCover(coverImage);\n      }\n    } catch (err) {\n      console.error(`[StickerPackPreviewCard::Effect::GetCover] ${err.message}`);\n    }\n  }, []);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  const title = [manifest.title, meta.nsfw && ' (NSFW)'].filter(Boolean).join('');\n\n  return (\n    <StickerPackPreviewCard className=\"card\" nsfw={meta.nsfw} aria-label={title}>\n      {cover ? <img className=\"card-img-top\" src={cover} /> : <div className=\"card-img-top\"></div>}\n      <div className=\"card-header\">{title}</div>\n    </StickerPackPreviewCard>\n  );\n};\n\n\nexport default StickerPackPreviewCardComponent;\n","import {styled} from 'linaria/react';\nimport React, {useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Waypoint} from 'react-waypoint';\nimport * as R from 'ramda';\nimport useAsyncEffect from 'use-async-effect';\n\nimport StickerContext from 'contexts/StickersContext';\nimport {StickerPack} from 'etc/types';\nimport StickerPackPreviewCard from './StickerPackPreviewCard';\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst StickerPackList = styled.div`\n  & a {\n    &:hover {\n      text-decoration: none;\n    }\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\n/**\n * How many items we will load each time loadMore() is called.\n */\nconst PAGE_SIZE = 32;\n\n\nconst StickerPackListComponent = () => {\n  const {searchResults} = useContext(StickerContext);\n  // Used by Waypoint to persist the component across re-renders.\n  const [cursor, setCursor] = useState(0);\n  // Subset of total search results that have been rendered.\n  const [renderedSearchResults, setRenderedSearchResults] = useState<Array<StickerPack>>([]);\n\n\n  /**\n   * Adds PAGE_SIZE items from searchResults to renderedSearchResults and\n   * updates the cursor.\n   */\n  async function loadMore() {\n    // If we have rendered all search results, bail.\n    if (renderedSearchResults.length >= searchResults.length) {\n      return;\n    }\n\n    const newCursor = cursor + PAGE_SIZE;\n    setCursor(newCursor);\n    setRenderedSearchResults(R.take(newCursor, searchResults));\n  }\n\n\n  /**\n   * [Effect] When the list of search results is updated, re-set our rendered\n   * search results and cursor.\n   */\n  useAsyncEffect(async () => {\n    setCursor(0);\n    setRenderedSearchResults([]);\n    await loadMore();\n  }, [searchResults]);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  return (\n    <StickerPackList className=\"row\">\n      {renderedSearchResults.map(({meta, manifest}) => (\n        <Link className=\"col-6 col-md-4 col-lg-3 mb-4\" key={meta.id} to={`/pack/${meta.id}`}>\n          <StickerPackPreviewCard stickerPack={{meta, manifest}} />\n        </Link>\n      ))}\n      <Waypoint key={cursor} onEnter={loadMore} />\n    </StickerPackList>\n  );\n};\n\n\nexport default StickerPackListComponent;\n","import React from 'react';\n\nimport SearchInput from './SearchInput';\nimport StickerPackList from './SearchResults';\n\n\nconst HomeComponent: React.FunctionComponent = () => {\n  return (\n    <div className=\"mt-4 mt-md-5 mb-5\">\n      <p>\n        Welcome to Signal Stickers, the unofficial directory for Signal sticker\n        packs. You can filter packs by title, author, or tags.\n      </p>\n      <SearchInput />\n      <StickerPackList />\n    </div>\n  );\n};\n\n\nexport default HomeComponent;\n","import React, {useState} from 'react';\nimport {styled} from 'linaria/react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {getStickerInPack, getEmojiForSticker} from 'lib/stickers';\n\n\n// ----- Props -----------------------------------------------------------------\n\nexport interface Props {\n  packId: string;\n  packKey: string;\n  stickerId: number | 'cover';\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst Sticker = styled.div`\n  border: 1px solid rgba(0, 0, 0, .125);\n  border-radius: 4px;\n  position: relative;\n\n  & .emoji {\n    position: absolute;\n    top: 2px;\n    left: 6px;\n    opacity: 0.75;\n  }\n\n  & img {\n    width: 72px;\n    height: 72px;\n  }\n\n  @media screen and (min-width: 576px) {\n    & img {\n      width: 128px;\n      height: 128px;\n    }\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst StickerComponent: React.FunctionComponent<Props> = ({packId, packKey, stickerId}) => {\n  const [emoji, setEmoji] = useState('');\n  const [stickerSrc, setStickerSrc] = useState('');\n\n\n  /**\n   * [Effect] Load sticker data and emoji for the sticker indicated in our\n   * props.\n   */\n  useAsyncEffect(async () => {\n    const [\n      emojiResult,\n      stickerResult\n    ] = await Promise.all([\n      getEmojiForSticker(packId, packKey, stickerId),\n      getStickerInPack(packId, packKey, stickerId)\n    ]);\n\n    setEmoji(emojiResult);\n    setStickerSrc(stickerResult);\n  }, []);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  if (!emoji || !stickerSrc) {\n    return null; // tslint:disable-line no-null-keyword\n  }\n\n  return (\n    <Sticker className=\"shadow-sm m-3 p-4\">\n      <div className=\"emoji\">{emoji}</div>\n      <img src={stickerSrc} alt=\"Sticker\" />\n    </Sticker>\n  );\n};\n\n\nexport default StickerComponent;\n","import React from 'react';\n\n\nconst StickerPackError: React.FunctionComponent = props => {\n  return (\n    <div className=\"p-4 my-4\">\n      <div className=\"row mb-4\">\n        <div className=\"col-10 offset-1 alert alert-danger\">\n          <h3 className=\"alert-heading mt-1 mb-3\">Error</h3>\n          {props.children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nexport default StickerPackError;\n","import React from 'react';\n\n\nconst Tag: React.FunctionComponent = props => {\n  return (\n    <div className=\"badge badge-primary\">\n      {props.children}\n    </div>\n  );\n};\n\n\nexport default Tag;\n","import React, {useState} from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport Linkify from 'react-linkify';\nimport {styled} from 'linaria/react';\nimport {darken} from 'polished';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport * as R from 'ramda';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {GRAY, SIGNAL_BLUE} from 'etc/colors';\nimport {StickerPackManifest, StickerPackMetadata} from 'etc/types';\nimport useQuery from 'hooks/use-query';\nimport ErrorWithCode from 'lib/error';\nimport {getStickerPack, getStickerPackList} from 'lib/stickers';\nimport {capitalizeFirst} from 'lib/utils';\n\nimport Sticker from './Sticker';\nimport StickerPackError from './StickerPackError';\nimport Tag from './Tag';\n\n\n// ----- Types -----------------------------------------------------------------\n\n/**\n * URL parameters that we expect to have set when this component is rendered.\n */\nexport interface UrlParams {\n  packId: string;\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst StickerPackDetail = styled.div`\n  background-color: white;\n\n  @media screen and (min-width: 576px) {\n    border-radius: 4px;\n    border: 1px solid ${darken(0.15, GRAY)};\n  }\n\n  & .list-group-item {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    font-size: 14px;\n\n    & .octicon {\n      font-size: 20px;\n      margin-right: 20px;\n    }\n  }\n\n  & .octicon-globe {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-file-directory {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-alert {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-tag {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .title {\n    font-size: 32px;\n    font-weight: 600;\n  }\n\n  @media screen and (min-width: 768px) {\n    & .list-group-item {\n      font-size: inherit;\n\n      & .octicon {\n        font-size: 20px;\n        margin-right: 20px;\n      }\n    }\n\n    & .title {\n      font-size: 42px;\n      font-weight: 600;\n    }\n  }\n\n  & .author {\n    font-size: 16px;\n    font-weight: 400;\n    opacity: 0.6;\n  }\n\n  & strong {\n    font-weight: 600;\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\n/**\n * Custom component for Linkify links that adds \"target\" and \"rel\" attributes.\n */\nfunction LinkifyHrefDecorator(decoratedHref: string, decoratedText: string, key: number) {\n  return (\n    <a href={decoratedHref} key={key} target=\"_blank\" rel=\"noreferrer\">{decoratedText}</a>\n  );\n}\n\n\nconst StickerPackDetailComponent: React.FunctionComponent = () => {\n  // Extract :packId from the URL.\n  const {packId} = useParams<UrlParams>();\n\n\n  // Extract the optional \"key\" query param from the URL.\n  const key = useQuery().get('key');\n\n\n  // This will be either the key extracted from a StickerPackMetadata object or,\n  // if the user is trying to load an unlisted sticker pack, the 'key' query\n  // param.\n  const [stickerPackKey, setStickerPackKey] = useState<string | undefined>();\n\n\n  // Sticker pack manifest from Signal.\n  const [stickerPack, setStickerPack] = useState<StickerPackManifest>();\n\n\n  // Sticker pack metadata from stickerData.json. This will not be available if\n  // viewing an unlisted pack.\n  const [stickerPackMeta, setStickerPackMeta] = useState<StickerPackMetadata>();\n\n\n  // One of many possible error codes we may catch when trying to load or\n  // decrypt a sticker pack. This will be used to determine what error message\n  // to show the user.\n  const [stickerPackError, setStickerPackError] = useState('');\n\n\n  /**\n   * [Effect] Set `stickerPack`, `stickerPackKey` and 'stickerPackMeta` when the\n   * component mounts.\n   */\n  useAsyncEffect(async () => {\n    try {\n      // Because this value comes from a context, we may get rendered before\n      // it becomes available.\n      if (!packId) {\n        return;\n      }\n\n      // Try to get stickerPack (including the pack's key) from stickerData.json.\n      const allPackMeta = R.map(R.prop('meta'), await getStickerPackList());\n      const packMetadata = R.find<StickerPackMetadata>(R.propEq('id', packId), allPackMeta);\n\n      // If the sticker pack is listed in stickerData.json, set metadata and\n      // then fetch the pack's manifest from Signal using the key from\n      // metadata.\n      if (packMetadata) {\n        setStickerPackMeta(packMetadata);\n        setStickerPackKey(packMetadata.key);\n        setStickerPack(await getStickerPack(packId, packMetadata.key, true));\n        return;\n      }\n\n      // Then try to load and decrypt the manifest from Signal using the key\n      // from query params.\n      if (key) {\n        setStickerPackKey(key);\n        setStickerPack(await getStickerPack(packId, key));\n        return;\n      }\n\n      // If we couldn't find the pack in our directory and the user did not\n      // provide a `key` query param, throw.\n      throw new ErrorWithCode('NO_KEY_PROVIDED', 'No key provided.');\n    } catch (err) {\n      if (err.code) {\n        setStickerPackError(err.code);\n      }\n    }\n  }, []);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  if (!packId || !stickerPackKey || !stickerPack) {\n    // If an error code has been set, display an error alert to the user.\n    if (stickerPackError) {\n      switch (stickerPackError) {\n        case 'NO_KEY_PROVIDED':\n          return (\n            <StickerPackError>\n              <p>This sticker pack is not listed in the Signal Stickers directory. However, if you have the pack's <strong>key</strong>, you can still preview the sticker pack by supplying a <code>key</code> parameter in the URL.</p>\n              <p>For example: <code>{`/pack/${packId}?key=sticker-pack-key`}</code></p>\n            </StickerPackError>\n          );\n        case 'MANIFEST_DECRYPT':\n          return (\n            <StickerPackError>\n              <p>The provided key is invalid.</p>\n            </StickerPackError>\n          );\n        default:\n          return (\n            <StickerPackError>\n              <p>An unknown error occurred ({stickerPackError}).</p>\n            </StickerPackError>\n          );\n      }\n    }\n\n    // If we don't have an error, we're likely still waiting on an async\n    // operation, so render nothing.\n    return null; // tslint:disable-line no-null-keyword\n  }\n\n  const source = stickerPackMeta?.source || 'N/A';\n  const numStickers = stickerPack.stickers.length;\n  // N.B. Signal allows strings containing only whitespace as authors. In these\n  // cases, use 'Anonymous' instead.\n  const author = stickerPack.author.trim() ? stickerPack.author : 'Anonymous';\n  const stickerPackTags = stickerPackMeta?.tags;\n  const addToSignalHref = `https://signal.art/addstickers/#pack_id=${packId}&pack_key=${stickerPackKey}`;\n\n  return (\n    <StickerPackDetail className=\"px-1 px-sm-4 py-4 mt-0 mt-sm-5 mb-5\">\n      <div className=\"row mb-4 flex-column-reverse flex-lg-row\">\n        <div className=\"col-12 col-lg-8 mt-4 mt-lg-0\">\n          <div className=\"title\">{stickerPack.title}</div>\n          <div className=\"author\">{author}</div>\n        </div>\n        <div className=\"col-12 col-lg-4 d-flex d-lg-block justify-content-between text-md-right\">\n          {stickerPackMeta ? <Link to=\"/\">\n            <button type=\"button\" className=\"btn btn-link mr-2\">\n              Home\n            </button>\n          </Link> : null}\n          <a href={addToSignalHref} target=\"_blank\" rel=\"noreferrer\" title=\"Add to Signal\">\n            <button className=\"btn btn-primary\">\n              <Octicon name=\"plus\" />&nbsp;Add to Signal\n            </button>\n          </a>\n        </div>\n      </div>\n\n      {stickerPackMeta ? <div className=\"row mb-4\">\n        <div className=\"col-12 col-lg-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item text-wrap text-break\">\n              <Octicon name=\"globe\" title=\"Source\" />\n              <div>\n                <Linkify componentDecorator={LinkifyHrefDecorator}>{source}</Linkify>\n              </div>\n            </li>\n            <li className=\"list-group-item text-wrap text-break\">\n              <Octicon name=\"file-directory\" title=\"Sticker Count\" />\n              {numStickers}\n            </li>\n            {stickerPackMeta.nsfw ? <li className=\"list-group-item text-wrap text-break\">\n              <Octicon name=\"alert\" title=\"NSFW\" /> <strong>NSFW</strong>\n            </li> : null}\n            <li className=\"list-group-item\">\n              <Octicon name=\"tag\" title=\"Tags\" />\n              <div className=\"text-wrap text-break\">\n                {stickerPackTags.length === 0 ? 'None' : stickerPackTags.map(tag => (<Tag key={tag}>{tag}</Tag>))}\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div> : null}\n\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"d-flex flex-wrap justify-content-around\">\n            {stickerPack.stickers.map(sticker => (<Sticker packId={packId} packKey={stickerPackKey} stickerId={sticker.id} key={sticker.id} />))}\n          </div>\n        </div>\n      </div>\n    </StickerPackDetail>\n  );\n};\n\n\nexport default StickerPackDetailComponent;\n","import {useLocation} from 'react-router-dom';\n\n\n/**\n * Custom hook for introspecting URL query parameters.\n *\n * Example usage:\n *\n * const query = useQuery();\n * query.get('foo');\n */\nexport default function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","import {styled} from 'linaria/react';\n\n\n/**\n * This component can be used to take up unused space across a flex axis.\n */\nexport default styled.div`\n  flex-grow: 1;\n`;\n","import React from 'react';\nimport {styled} from 'linaria/react';\nimport {darken} from 'polished';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\n\nimport {GRAY} from 'etc/colors';\nimport FlexSpacer from 'components/layout/FlexSpacer';\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst FooterWrapper = styled.footer`\n  background-color: ${GRAY};\n  border-top: 1px solid ${darken(0.05, GRAY)};\n  width: 100%;\n`;\n\nconst Footer = styled.div`\n  & ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  & h1 {\n    font-size: 32px;\n    font-weight: 400;\n  }\n\n  & a {\n    font-size: 14px;\n  }\n\n  & p {\n    font-size: 14px;\n    font-weight: 300;\n  }\n\n  & strong {\n    font-weight: 400;\n  }\n\n  @media screen and (min-width: 768px) {\n    & a {\n      font-size: 16px;\n    }\n\n    & p {\n      font-size: 16px;\n    }\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst FooterComponent: React.FunctionComponent = props => {\n  return (\n    <>\n      <FlexSpacer />\n      <FooterWrapper>\n        <div className=\"container\">\n          <Footer className=\"row pt-5 pb-3\">\n            <div className=\"col-12 col-md-6 about\">\n              <h1 className=\"mb-4\">About</h1>\n              <p>\n                Browse and download more than 100 sticker packs for Signal, the secure messenger. These\n                stickers are created by the community; the maintainers of this website do not claim any\n                rights. <strong>This site is not affiliated with Signal</strong>.\n              </p>\n              <p>\n                <a href=\"https://twitter.com/search?q=%23makeprivacystick&src=typed_query\" rel=\"noreferrer\" target=\"_blank\">\n                  <strong>#makeprivacystick</strong>\n                </a>\n              </p>\n            </div>\n            <div className=\"col-12 col-md-6 links\">\n              <h1 className=\"mb-4\">Links</h1>\n              <ul>\n                <li>\n                  <a href=\"https://signal.org\" rel=\"noreferrer\" target=\"_blank\">\n                    <Octicon name=\"link-external\" /> Learn More About Signal\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://github.com/romainricard/signalstickers\" rel=\"noreferrer\" target=\"_blank\">\n                    <Octicon name=\"link-external\" /> GitHub Repository\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://github.com/romainricard/signalstickers/issues/new\" rel=\"noreferrer\" target=\"_blank\">\n                    <Octicon name=\"link-external\" /> Report an Issue\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://support.signal.org/hc/en-us/articles/360031836512-Stickers#h_c2a0a45b-862f-4d12-9ab1-d9a6844062ca\" rel=\"noreferrer\" target=\"_blank\">\n                    <Octicon name=\"link-external\" /> Sticker Pack Creation Guide\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </Footer>\n        </div>\n      </FooterWrapper>\n    </>\n  );\n};\n\n\nexport default FooterComponent;\n","import {Formik, Form, Field, ErrorMessage} from 'formik';\nimport {cx} from 'linaria';\nimport {styled} from 'linaria/react';\nimport {darken} from 'polished';\nimport React, {useState} from 'react';\nimport * as R from 'ramda';\nimport yaml from 'js-yaml';\n\nimport {GRAY} from 'etc/colors';\nimport {getStickerPackList, getStickerPack} from 'lib/stickers';\n\n/**\n * Test URL:\n * https://signal.art/addstickers/#pack_id=f36f5fb3d8dde697e1527650ea1c12a6&pack_key=eb6be23a93685d18568292818f6a4ebd85161b8ae1edca86a06698c1472200f0\n */\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst Contribute = styled.div`\n  background-color: white;\n\n  @media screen and (min-width: 576px) {\n    border-radius: 4px;\n    border: 1px solid ${darken(0.15, GRAY)};\n  }\n\n  /**\n   * Ensures error feedback containers are always visible (even if empty) so\n   * that controls do not jump around as they move between valid and invalid\n   * states.\n   */\n  & .invalid-feedback {\n    display: block;\n  }\n`;\n\n\n// ----- Types -----------------------------------------------------------------\n\nexport interface FormValues {\n  signalArtUrl: string;\n  source: string;\n  tags: string;\n  isNsfw?: 'true' | 'false';\n}\n\n\n// ----- Locals ----------------------------------------------------------------\n\n/**\n * Regular expression used to validate signal.art URLs for sticker packs.\n */\nconst SIGNAL_ART_URL_PATTERN = /^https:\\/\\/signal.art\\/addstickers\\/#pack_id=([A-Za-z0-9]+)&pack_key=([A-Za-z0-9]+)$/g;\n\n/**\n * Regular expression used to validate lists of tags.\n */\nconst TAGS_PATTERN = /^(?:([\\w\\d-_ ]+))+(?:, ([\\w\\d-_ ]+))*$/g;\n\n/**\n * Initial values for the form.\n */\nconst initialValues: FormValues = {\n  signalArtUrl: '',\n  source: '',\n  tags: '',\n  isNsfw: undefined\n};\n\n/**\n * Validators for each field in our form.\n */\nconst validators = {\n  signalArtUrl: async (signalArtUrl: string) => {\n    if (!signalArtUrl) {\n      return 'This field is required.';\n    }\n\n    const matches = new RegExp(SIGNAL_ART_URL_PATTERN).exec(signalArtUrl);\n\n    if (!matches) {\n      return 'Invalid signal.art URL.';\n    }\n\n    const [, packId, packKey] = matches;\n\n    if (R.find(R.compose(R.propEq('id', packId), R.prop('meta')), await getStickerPackList())) {\n      return 'A sticker pack with that ID already exists in the directory.';\n    }\n\n    try {\n      await getStickerPack(packId, packKey);\n    } catch (err) {\n      return 'Invalid sticker pack. Please check the pack ID and key.';\n    }\n  },\n  source: (source: string) => {\n    if (source && source.length > 320) {\n      return 'This field must be no longer than 320 characters.';\n    }\n  },\n  tags: (tags: string) => {\n    if (tags !== '' && !(new RegExp(TAGS_PATTERN).test(tags))) {\n      return 'Invalid value. Tags must be a list of comma-delimited strings.';\n    }\n  },\n  isNsfw: (isNsfw?: boolean) => {\n    if (isNsfw === undefined) {\n      return 'This field is required.';\n    }\n  }\n};\n\n\n// ----- Component -------------------------------------------------------------\n\nconst ContributeComponent: React.FunctionComponent = () => {\n  const [hasBeenSubmitted, setHasBeenSubmitted] = useState(false);\n  const [ymlBlob, setYmlBlob] = useState('');\n\n\n  /**\n   * Sets 'hasBeenSubmitted' when the Submit button is clicked. We need this\n   * because Formik will not call our onSubmit function when the submit button\n   * is clicked _but_ validation fails. This makes sense, but because we want to\n   * change the way validation errors are presented to the user after the first\n   * submit attempt, we need to track \"attempts\" separately.\n   */\n  const onSubmitClick = () => {\n    setHasBeenSubmitted(true);\n    setYmlBlob('');\n  };\n\n\n  /**\n   * Called when the form is submitted and has passed validation.\n   */\n  const onSubmit: any = (values: FormValues) => {\n    const matches = new RegExp(SIGNAL_ART_URL_PATTERN).exec(values.signalArtUrl);\n\n    if (!matches) {\n      throw new Error('Unable to extract pack ID and pack key from signal.art URL.');\n    }\n\n    const [, packId, packKey] = matches;\n\n    const tags = R.uniq(values.tags\n      .split(',')\n      .map(tag => tag.trim())\n      .filter(tag => tag.length));\n\n    setYmlBlob(yaml.safeDump({\n      [packId]: {\n        key: packKey,\n        source: values.source,\n        tags,\n        nsfw: values.isNsfw === 'true' ? true : false\n      }\n    }, null, 2).trim());\n\n    return true;\n  };\n\n\n  // ----- Render --------------------------------------------------------------\n\n  return (\n    <Contribute className=\"px-1 px-md-4 py-4 mt-0 mt-md-5 mb-5\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <p>\n            Getting your sticker pack listed in the Signal Stickers directory is\n            easy! First, paste the <code>signal.art</code> link for your sticker\n            pack, including the <code>pack_id</code> and <code>pack_key</code> values,\n            into the form below. Then, answer a few questions about your sticker\n            pack and add optional metadata.\n          </p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-12 col-md-8 offset-md-2 mt-4\">\n          <Formik\n            initialValues={initialValues}\n            onSubmit={onSubmit}\n            validateOnChange={hasBeenSubmitted}\n            validateOnBlur={hasBeenSubmitted}\n          >{({values, errors, isValidating, isSubmitting}) => (\n            <Form noValidate>\n\n              {/* [Field] Signal Art Url */}\n              <div className=\"form-group\">\n                <div className=\"form-row\">\n                  <label className={cx('col-12', errors.signalArtUrl && 'text-danger')} htmlFor=\"signal-art-url\">\n                    Signal Art URL:\n                    <Field\n                      type=\"text\"\n                      id=\"signal-art-url\"\n                      name=\"signalArtUrl\"\n                      validate={validators.signalArtUrl}\n                      className={cx('form-control', errors.signalArtUrl && 'is-invalid')}\n                      placeholder=\"https://signal.art/addstickers/#pack_id=<your pack id>&pack_key=<your pack key>\"\n                    />\n                    <div className=\"invalid-feedback\">\n                      <ErrorMessage name=\"signalArtUrl\" />&nbsp;\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              {/* [Field] Source */}\n              <div className=\"form-group\">\n                <div className=\"form-row\">\n                  <label className={cx('col-12', errors.source && 'text-danger')} htmlFor=\"source\">\n                    (Optional) Source:\n                    <Field\n                      type=\"text\"\n                      id=\"source\"\n                      name=\"source\"\n                      validate={validators.source}\n                      className={cx('form-control', errors.source && 'is-invalid')}\n                    />\n                    <small className=\"form-text text-muted\">Original author, website, company, etc.</small>\n                    <div className=\"invalid-feedback\">\n                      <ErrorMessage name=\"source\" />&nbsp;\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              {/* [Field] Tags */}\n              <div className=\"form-group mb-4\">\n                <div className=\"form-row\">\n                  <label className={cx('col-12', errors.tags && 'text-danger')} htmlFor=\"tags\">\n                    (Optional) Tags:\n                    <Field\n                      type=\"text\"\n                      id=\"tags\"\n                      name=\"tags\"\n                      validate={validators.tags}\n                      className={cx('form-control', errors.tags && 'is-invalid')}\n                    />\n                    <small className=\"form-text text-muted\">Comma-separated list of words.</small>\n                    <div className=\"invalid-feedback\">\n                      <ErrorMessage name=\"tags\" />&nbsp;\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              {/* [Field] NSFW */}\n              <div className=\"form-group\">\n                <div className=\"form-row\">\n                  <label className={cx('col-12', 'mb-2', errors.isNsfw && 'text-danger')}>\n                    Is your sticker pack <a href=\"https://www.urbandictionary.com/define.php?term=NSFW\" target=\"_blank\" rel=\"noreferrer\">NSFW</a>?\n                  </label>\n                </div>\n                <div className=\"form-row\">\n                  <div className=\"col-12 mb-1\">\n                    <div className=\"custom-control custom-radio\">\n                      <Field\n                        type=\"radio\"\n                        id=\"is-nsfw-true\"\n                        name=\"isNsfw\"\n                        validate={validators.isNsfw}\n                        className={cx('custom-control-input', errors.isNsfw && 'is-invalid')}\n                        value=\"true\"\n                        checked={values.isNsfw === 'true'}\n                      />\n                      <label className=\"custom-control-label\" htmlFor=\"is-nsfw-true\">\n                        Yes\n                      </label>\n                    </div>\n                  </div>\n                  <div className=\"col-12\">\n                    <div className=\"custom-control custom-radio\">\n                      <Field\n                        type=\"radio\"\n                        id=\"is-nsfw-false\"\n                        name=\"isNsfw\"\n                        validate={validators.isNsfw}\n                        className={cx('custom-control-input', errors.isNsfw && 'is-invalid')}\n                        value=\"false\"\n                        checked={values.isNsfw === 'false'}\n                      />\n                      <label className=\"custom-control-label\" htmlFor=\"is-nsfw-false\">No</label>\n                    </div>\n                    <div className=\"invalid-feedback\">\n                      <ErrorMessage name=\"isNsfw\" />&nbsp;\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* [Control] Submit */}\n              <div className=\"form-group\">\n                <div className=\"form-row\">\n                  <div className=\"col-12\">\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={isSubmitting || isValidating} onClick={onSubmitClick}>\n                      Generate YML\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n            </Form>\n          )}\n          </Formik>\n        </div>\n      </div>\n\n      {/* Rendered YML Output */}\n      {ymlBlob ?\n      <>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <hr />\n            <p className=\"mt-4 mb-4\">\n              Great! Below is the YML blob you will need to add to <code>stickers.yml</code> in the <a href=\"https://github.com/romainricard/signalstickers/edit/master/stickers.yml\">Signal Stickers repository</a>.\n            </p>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12 col-md-10 offset-md-1\">\n            <div className=\"card\">\n              <pre>{ymlBlob}</pre>\n            </div>\n          </div>\n        </div>\n      </>\n      : null}\n    </Contribute>\n  );\n};\n\n\nexport default ContributeComponent;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\n\nimport Navbar from 'components/layout/Navbar';\nimport Home from 'components/home/Home';\nimport StickerPackDetail from 'components/pack/StickerPackDetail';\nimport Footer from 'components/layout/Footer';\nimport {Provider as StickersContextProvider} from 'contexts/StickersContext';\nimport Contribute from 'components/contribute/Contribute';\n\n\nconst App: React.FunctionComponent = () => {\n  return (\n    <Router basename=\"/signalstickers/\">\n      <StickersContextProvider>\n        <Navbar />\n        <div className=\"container\">\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/pack/:packId\">\n              <StickerPackDetail />\n            </Route>\n            <Route path=\"/contribute\">\n              <Contribute />\n            </Route>\n          </Switch>\n        </div>\n        <Footer />\n      </StickersContextProvider>\n    </Router>\n  );\n};\n\n\nexport default App;\n","import bytes from 'bytes';\n\n/**\n * Capitalizes the first letter of the provided string.\n */\nexport function capitalizeFirst(str: string) {\n  return str.substr(0, 1).toUpperCase() + str.substr(1);\n}\n\n\n/**\n * Prints current storage usage and quotas to the console.\n */\nexport async function printStorageUsage() {\n  if (process.env.NODE_ENV !== 'development') {\n    return;\n  }\n\n  const storageEstimate = await navigator.storage.estimate();\n\n  // @ts-ignore\n  const idbUsage = storageEstimate?.usageDetails?.indexedDB;\n  const quota = storageEstimate.quota;\n\n  if (idbUsage && quota) {\n    const percentageUsed = ((idbUsage / quota) * 100).toFixed(2);\n    console.debug(`IndexedDB is currently using ${bytes(idbUsage)} of data, or ${percentageUsed}% of the ${bytes(quota)} quota.`);\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from 'components/App';\nimport {printStorageUsage} from 'lib/utils';\nimport './index.css';\n\n\nprintStorageUsage(); // tslint:disable-line no-floating-promises\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}